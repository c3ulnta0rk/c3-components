import"./chunk-WY2XME4D.js";import"./chunk-P6J3NXXK.js";import"./chunk-UTJOCE6S.js";import{a as ft}from"./chunk-IP5QXJH5.js";import{b as gt,c as _t}from"./chunk-ZQXNJLPW.js";import"./chunk-VQXK7JSU.js";import"./chunk-KINULSZZ.js";import{a as Se,b as be}from"./chunk-53K6XMQ3.js";import{a as ut}from"./chunk-RA7FHYGQ.js";import{b as pt}from"./chunk-5RYWBS5O.js";import{f as mt,m as ht}from"./chunk-4ELSH6VA.js";import"./chunk-TZ7DCQMJ.js";import{i as Ce}from"./chunk-SU6PRRH7.js";import{a as lt,b as ct}from"./chunk-G3XMIJSC.js";import{A as G,v as oe,w as dt,y as De}from"./chunk-WISR4DVK.js";import"./chunk-NK5SK6UO.js";import{k as st,n as at}from"./chunk-7WGNA6AJ.js";import{$b as ze,Ac as Je,Bc as Ee,C as Fe,Ca as $,Cc as et,Ea as W,Ec as P,Fc as xe,G as he,H as pe,K as k,L as Le,Lb as v,Lc as tt,Nb as te,Ob as ie,Rc as it,Sc as nt,Tb as T,Tc as rt,Ub as u,V as ue,Vb as g,W as U,Wb as Y,X as N,Xb as d,Y as q,Yb as a,Yc as ye,Zc as ve,_b as je,_c as ot,a as Ae,ac as I,b as Pe,bb as _,bc as Qe,ca as S,cc as ne,cd as z,dd as C,ea as Z,fc as M,ga as h,gb as _e,hc as A,ic as He,jb as We,jc as Ue,kc as qe,lc as j,m as O,mc as F,n as D,nc as L,o as Oe,oa as Be,ob as J,pa as Ke,q as f,qa as ge,ra as Ve,rc as $e,s as Re,sb as x,sc as re,tb as b,tc as Ye,u as E,ub as y,v as H,vc as Ge,wb as R,wc as o,xc as Xe,y as me,yb as ee,yc as fe,zc as Ze}from"./chunk-AGADXNXO.js";var Et=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=x({type:n,selectors:[["c3-api"]],decls:329,vars:0,consts:[[1,"api-section"],[1,"api-table"],["colspan","3"],[1,"notes-list"]],template:function(i,s){i&1&&(d(0,"h1"),o(1,"Tree API"),a(),d(2,"section",0)(3,"h2"),o(4,"Import"),a(),d(5,"pre")(6,"code"),o(7,`import {
  C3TreeComponent,
  TreeType,
  FileNode
} from 'c3-components';`),a()()(),d(8,"section",0)(9,"h2"),o(10,"C3TreeComponent<RawData, T>"),a(),d(11,"p"),o(12,"Selector: "),d(13,"code"),o(14,"c3-tree"),a()(),d(15,"p"),o(16,"A tree component built on top of Angular Material's "),d(17,"code"),o(18,"MatTree"),a(),o(19," with automatic flattening and loading state support."),a(),d(20,"h3"),o(21,"Type Parameters"),a(),d(22,"table",1)(23,"thead")(24,"tr")(25,"th"),o(26,"Parameter"),a(),d(27,"th"),o(28,"Constraint"),a(),d(29,"th"),o(30,"Description"),a()()(),d(31,"tbody")(32,"tr")(33,"td")(34,"code"),o(35,"RawData"),a()(),d(36,"td"),o(37,"-"),a(),d(38,"td"),o(39,"The type of the raw data associated with each tree node."),a()(),d(40,"tr")(41,"td")(42,"code"),o(43,"T"),a()(),d(44,"td")(45,"code"),o(46,"extends TreeType<RawData>"),a()(),d(47,"td"),o(48,"The tree node type. Defaults to "),d(49,"code"),o(50,"TreeType<RawData>"),a(),o(51,"."),a()()()(),d(52,"h3"),o(53,"Inputs"),a(),d(54,"table",1)(55,"thead")(56,"tr")(57,"th"),o(58,"Name"),a(),d(59,"th"),o(60,"Type"),a(),d(61,"th"),o(62,"Default"),a(),d(63,"th"),o(64,"Description"),a()()(),d(65,"tbody")(66,"tr")(67,"td")(68,"code"),o(69,"treeData"),a()(),d(70,"td")(71,"code"),o(72,"T[]"),a()(),d(73,"td")(74,"em"),o(75,"required"),a()(),d(76,"td"),o(77,"The hierarchical tree data to display. Uses "),d(78,"code"),o(79,"model.required()"),a(),o(80,"."),a()(),d(81,"tr")(82,"td")(83,"code"),o(84,"isLoading"),a()(),d(85,"td")(86,"code"),o(87,"boolean"),a()(),d(88,"td")(89,"code"),o(90,"false"),a()(),d(91,"td"),o(92,"Shows a loading spinner when "),d(93,"code"),o(94,"true"),a(),o(95,". Uses "),d(96,"code"),o(97,"model()"),a(),o(98,"."),a()()()(),d(99,"h3"),o(100,"Outputs"),a(),d(101,"table",1)(102,"thead")(103,"tr")(104,"th"),o(105,"Name"),a(),d(106,"th"),o(107,"Type"),a(),d(108,"th"),o(109,"Description"),a()()(),d(110,"tbody")(111,"tr")(112,"td")(113,"code"),o(114,"treeDataSelected"),a()(),d(115,"td")(116,"code"),o(117,"T"),a()(),d(118,"td"),o(119,"Emits when a tree node is selected."),a()()()(),d(120,"h3"),o(121,"Public Properties"),a(),d(122,"table",1)(123,"thead")(124,"tr")(125,"th"),o(126,"Property"),a(),d(127,"th"),o(128,"Type"),a(),d(129,"th"),o(130,"Description"),a()()(),d(131,"tbody")(132,"tr")(133,"td")(134,"code"),o(135,"treeControl"),a()(),d(136,"td")(137,"code"),o(138,"FlatTreeControl<FileNode<RawData>>"),a()(),d(139,"td"),o(140,"The Angular CDK tree control for managing expansion state."),a()(),d(141,"tr")(142,"td")(143,"code"),o(144,"dataSource"),a()(),d(145,"td")(146,"code"),o(147,"MatTreeFlatDataSource"),a()(),d(148,"td"),o(149,"The data source for the Material tree."),a()()()(),d(150,"h3"),o(151,"Methods"),a(),d(152,"table",1)(153,"thead")(154,"tr")(155,"th"),o(156,"Method"),a(),d(157,"th"),o(158,"Parameters"),a(),d(159,"th"),o(160,"Returns"),a(),d(161,"th"),o(162,"Description"),a()()(),d(163,"tbody")(164,"tr")(165,"td")(166,"code"),o(167,"hasChild"),a()(),d(168,"td")(169,"code"),o(170,"index: number, node: T"),a()(),d(171,"td")(172,"code"),o(173,"boolean"),a()(),d(174,"td"),o(175,"Determines if a node has children (is expandable)."),a()()()()(),d(176,"section",0)(177,"h2"),o(178,"TreeType<T>"),a(),d(179,"p"),o(180,"Interface representing a tree node structure."),a(),d(181,"table",1)(182,"thead")(183,"tr")(184,"th"),o(185,"Property"),a(),d(186,"th"),o(187,"Type"),a(),d(188,"th"),o(189,"Required"),a(),d(190,"th"),o(191,"Description"),a()()(),d(192,"tbody")(193,"tr")(194,"td")(195,"code"),o(196,"id"),a()(),d(197,"td")(198,"code"),o(199,"number"),a()(),d(200,"td"),o(201,"Yes"),a(),d(202,"td"),o(203,"Unique identifier for the node."),a()(),d(204,"tr")(205,"td")(206,"code"),o(207,"level"),a()(),d(208,"td")(209,"code"),o(210,"number"),a()(),d(211,"td"),o(212,"Yes"),a(),d(213,"td"),o(214,"Depth level of the node in the tree."),a()(),d(215,"tr")(216,"td")(217,"code"),o(218,"name"),a()(),d(219,"td")(220,"code"),o(221,"string"),a()(),d(222,"td"),o(223,"Yes"),a(),d(224,"td"),o(225,"Display name of the node."),a()(),d(226,"tr")(227,"td")(228,"code"),o(229,"ancestorId"),a()(),d(230,"td")(231,"code"),o(232,"number"),a()(),d(233,"td"),o(234,"No"),a(),d(235,"td"),o(236,"ID of the parent node."),a()(),d(237,"tr")(238,"td")(239,"code"),o(240,"ancestor"),a()(),d(241,"td")(242,"code"),o(243,"TreeType<T>"),a()(),d(244,"td"),o(245,"No"),a(),d(246,"td"),o(247,"Reference to the parent node."),a()(),d(248,"tr")(249,"td")(250,"code"),o(251,"children"),a()(),d(252,"td")(253,"code"),o(254,"TreeType<T>[]"),a()(),d(255,"td"),o(256,"Yes"),a(),d(257,"td"),o(258,"Array of child nodes."),a()(),d(259,"tr")(260,"td")(261,"code"),o(262,"rawData"),a()(),d(263,"td")(264,"code"),o(265,"T"),a()(),d(266,"td"),o(267,"Yes"),a(),d(268,"td"),o(269,"The original raw data associated with this node."),a()()()()(),d(270,"section",0)(271,"h2"),o(272,"FileNode<RawData>"),a(),d(273,"p"),o(274,"Interface extending "),d(275,"code"),o(276,"TreeType"),a(),o(277," with flattening metadata."),a(),d(278,"table",1)(279,"thead")(280,"tr")(281,"th"),o(282,"Property"),a(),d(283,"th"),o(284,"Type"),a(),d(285,"th"),o(286,"Description"),a()()(),d(287,"tbody")(288,"tr")(289,"td")(290,"code"),o(291,"expandable"),a()(),d(292,"td")(293,"code"),o(294,"boolean"),a()(),d(295,"td"),o(296,"Whether the node can be expanded (has children)."),a()(),d(297,"tr")(298,"td",2)(299,"em"),o(300,"...plus all properties from TreeType<RawData>"),a()()()()()(),d(301,"section",0)(302,"h2"),o(303,"Usage Example"),a(),d(304,"pre")(305,"code"),o(306,`<c3-tree
  [treeData]="myTreeData"
  [isLoading]="loading"
  (treeDataSelected)="onNodeSelected($event)"
></c3-tree>`),a()()(),d(307,"section",0)(308,"h2"),o(309,"Dependencies"),a(),d(310,"p"),o(311,"This component requires the following Angular Material modules:"),a(),d(312,"ul",3)(313,"li")(314,"code"),o(315,"@angular/material/tree"),a(),o(316," - MatTreeModule"),a(),d(317,"li")(318,"code"),o(319,"@angular/material/icon"),a(),o(320," - MatIconModule"),a(),d(321,"li")(322,"code"),o(323,"@angular/material/core"),a(),o(324," - MatRippleModule"),a(),d(325,"li")(326,"code"),o(327,"@angular/material/progress-spinner"),a(),o(328," - MatProgressSpinnerModule"),a()()())},encapsulation:2});let r=n;return r})();var X=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new O;constructor(n=!1,e,t=!0,i){this._multiple=n,this._emitChanges=t,this.compareWith=i,e&&e.length&&(n?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...n){this._verifyValueAssignment(n),n.forEach(t=>this._markSelected(t));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...n){this._verifyValueAssignment(n),n.forEach(t=>this._unmarkSelected(t));let e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...n){this._verifyValueAssignment(n);let e=this.selected,t=new Set(n.map(s=>this._getConcreteValue(s)));n.forEach(s=>this._markSelected(s)),e.filter(s=>!t.has(this._getConcreteValue(s,t))).forEach(s=>this._unmarkSelected(s));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(n){return this.isSelected(n)?this.deselect(n):this.select(n)}clear(n=!0){this._unmarkAll();let e=this._hasQueuedChanges();return n&&this._emitChangeEvent(),e}isSelected(n){return this._selection.has(this._getConcreteValue(n))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(n){this._multiple&&this.selected&&this._selected.sort(n)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(n){n=this._getConcreteValue(n),this.isSelected(n)||(this._multiple||this._unmarkAll(),this.isSelected(n)||this._selection.add(n),this._emitChanges&&this._selectedToEmit.push(n))}_unmarkSelected(n){n=this._getConcreteValue(n),this.isSelected(n)&&(this._selection.delete(n),this._emitChanges&&this._deselectedToEmit.push(n))}_unmarkAll(){this.isEmpty()||this._selection.forEach(n=>this._unmarkSelected(n))}_verifyValueAssignment(n){n.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(n,e){if(this.compareWith){e=e??this._selection;for(let t of e)if(this.compareWith(n,t))return t;return n}else return n}};var Te=class{dataNodes;expansionModel=new X(!0);trackBy;getLevel;isExpandable;getChildren;toggle(n){this.expansionModel.toggle(this._trackByValue(n))}expand(n){this.expansionModel.select(this._trackByValue(n))}collapse(n){this.expansionModel.deselect(this._trackByValue(n))}isExpanded(n){return this.expansionModel.isSelected(this._trackByValue(n))}toggleDescendants(n){this.expansionModel.isSelected(this._trackByValue(n))?this.collapseDescendants(n):this.expandDescendants(n)}collapseAll(){this.expansionModel.clear()}expandDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.select(...e.map(t=>this._trackByValue(t)))}collapseDescendants(n){let e=[n];e.push(...this.getDescendants(n)),this.expansionModel.deselect(...e.map(t=>this._trackByValue(t)))}_trackByValue(n){return this.trackBy?this.trackBy(n):n}},se=class extends Te{getLevel;isExpandable;options;constructor(n,e,t){super(),this.getLevel=n,this.isExpandable=e,this.options=t,this.options&&(this.trackBy=this.options.trackBy)}getDescendants(n){let e=this.dataNodes.indexOf(n),t=[];for(let i=e+1;i<this.dataNodes.length&&this.getLevel(n)<this.getLevel(this.dataNodes[i]);i++)t.push(this.dataNodes[i]);return t}expandAll(){this.expansionModel.select(...this.dataNodes.map(n=>this._trackByValue(n)))}};var we=new Z("CDK_TREE_NODE_OUTLET_NODE"),ae=(()=>{class r{viewContainer=h(J);_node=h(we,{optional:!0});constructor(){}static \u0275fac=function(t){return new(t||r)};static \u0275dir=y({type:r,selectors:[["","cdkTreeNodeOutlet",""]]})}return r})(),Me=class{$implicit;level;index;count;constructor(n){this.$implicit=n}},de=(()=>{class r{template=h(We);when;constructor(){}static \u0275fac=function(t){return new(t||r)};static \u0275dir=y({type:r,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:[0,"cdkTreeNodeDefWhen","when"]}})}return r})();function xt(){return Error("Could not find a tree control, levelAccessor, or childrenAccessor for the tree.")}var Q=(()=>{class r{_differs=h(ot);_changeDetectorRef=h(ve);_elementRef=h(W);_dir=h(De);_onDestroy=new O;_dataDiffer;_defaultNodeDef;_dataSubscription;_levels=new Map;_parents=new Map;_ariaSets=new Map;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;treeControl;levelAccessor;childrenAccessor;trackBy;expansionKey;_nodeOutlet;_nodeDefs;viewChange=new D({start:0,end:Number.MAX_VALUE});_expansionModel;_flattenedNodes=new D([]);_nodeType=new D(null);_nodes=new D(new Map);_keyManagerNodes=new D([]);_keyManagerFactory=h(dt);_keyManager;_viewInit=!1;constructor(){}ngAfterContentInit(){this._initializeKeyManager()}ngAfterContentChecked(){this._updateDefaultNodeDefinition(),this._subscribeToDataChanges()}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this._nodes.complete(),this._keyManagerNodes.complete(),this._nodeType.complete(),this._flattenedNodes.complete(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),this._keyManager?.destroy()}ngOnInit(){this._checkTreeControlUsage(),this._initializeDataDiffer()}ngAfterViewInit(){this._viewInit=!0}_updateDefaultNodeDefinition(){let e=this._nodeDefs.filter(t=>!t.when);e.length>1,this._defaultNodeDef=e[0]}_setNodeTypeIfUnset(e){this._nodeType.value===null&&this._nodeType.next(e)}_switchDataSource(e){this._dataSource&&typeof this._dataSource.disconnect=="function"&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._subscribeToDataChanges()}_getExpansionModel(){return this.treeControl?this.treeControl.expansionModel:(this._expansionModel??=new X(!0),this._expansionModel)}_subscribeToDataChanges(){if(this._dataSubscription)return;let e;be(this._dataSource)?e=this._dataSource.connect(this):Re(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=f(this._dataSource)),e&&(this._dataSubscription=this._getRenderData(e).pipe(N(this._onDestroy)).subscribe(t=>{this._renderDataChanges(t)}))}_getRenderData(e){let t=this._getExpansionModel();return H([e,this._nodeType,t.changed.pipe(ue(null),q(i=>{this._emitExpansionChanges(i)}))]).pipe(U(([i,s])=>s===null?f({renderNodes:i,flattenedNodes:null,nodeType:s}):this._computeRenderingData(i,s).pipe(E(l=>Pe(Ae({},l),{nodeType:s})))))}_renderDataChanges(e){if(e.nodeType===null){this.renderNodeChanges(e.renderNodes);return}this._updateCachedData(e.flattenedNodes),this.renderNodeChanges(e.renderNodes),this._updateKeyManagerItems(e.flattenedNodes)}_emitExpansionChanges(e){if(!e)return;let t=this._nodes.value;for(let i of e.added)t.get(i)?._emitExpansionState(!0);for(let i of e.removed)t.get(i)?._emitExpansionState(!1)}_initializeKeyManager(){let e=H([this._keyManagerNodes,this._nodes]).pipe(E(([i,s])=>i.reduce((l,c)=>{let m=s.get(this._getExpansionKey(c));return m&&l.push(m),l},[]))),t={trackBy:i=>this._getExpansionKey(i.data),skipPredicate:i=>!!i.isDisabled,typeAheadDebounceInterval:!0,horizontalOrientation:this._dir.value};this._keyManager=this._keyManagerFactory(e,t)}_initializeDataDiffer(){let e=this.trackBy??((t,i)=>this._getExpansionKey(i));this._dataDiffer=this._differs.find([]).create(e)}_checkTreeControlUsage(){}renderNodeChanges(e,t=this._dataDiffer,i=this._nodeOutlet.viewContainer,s){let l=t.diff(e);!l&&!this._viewInit||(l?.forEachOperation((c,m,p)=>{if(c.previousIndex==null)this.insertNode(e[p],p,i,s);else if(p==null)i.remove(m);else{let w=i.get(m);i.move(w,p)}}),l?.forEachIdentityChange(c=>{let m=c.item;if(c.currentIndex!=null){let p=i.get(c.currentIndex);p.context.$implicit=m}}),s?this._changeDetectorRef.markForCheck():this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){if(this._nodeDefs.length===1)return this._nodeDefs.first;let i=this._nodeDefs.find(s=>s.when&&s.when(t,e))||this._defaultNodeDef;return i}insertNode(e,t,i,s){let l=this._getLevelAccessor(),c=this._getNodeDef(e,t),m=this._getExpansionKey(e),p=new Me(e);p.index=t,s??=this._parents.get(m)??void 0,l?p.level=l(e):s!==void 0&&this._levels.has(this._getExpansionKey(s))?p.level=this._levels.get(this._getExpansionKey(s))+1:p.level=0,this._levels.set(m,p.level),(i||this._nodeOutlet.viewContainer).createEmbeddedView(c.template,p,t),K.mostRecentTreeNode&&(K.mostRecentTreeNode.data=e)}isExpanded(e){return!!(this.treeControl?.isExpanded(e)||this._expansionModel?.isSelected(this._getExpansionKey(e)))}toggle(e){this.treeControl?this.treeControl.toggle(e):this._expansionModel&&this._expansionModel.toggle(this._getExpansionKey(e))}expand(e){this.treeControl?this.treeControl.expand(e):this._expansionModel&&this._expansionModel.select(this._getExpansionKey(e))}collapse(e){this.treeControl?this.treeControl.collapse(e):this._expansionModel&&this._expansionModel.deselect(this._getExpansionKey(e))}toggleDescendants(e){this.treeControl?this.treeControl.toggleDescendants(e):this._expansionModel&&(this.isExpanded(e)?this.collapseDescendants(e):this.expandDescendants(e))}expandDescendants(e){if(this.treeControl)this.treeControl.expandDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.select(this._getExpansionKey(e)),this._getDescendants(e).pipe(k(1),N(this._onDestroy)).subscribe(i=>{t.select(...i.map(s=>this._getExpansionKey(s)))})}}collapseDescendants(e){if(this.treeControl)this.treeControl.collapseDescendants(e);else if(this._expansionModel){let t=this._expansionModel;t.deselect(this._getExpansionKey(e)),this._getDescendants(e).pipe(k(1),N(this._onDestroy)).subscribe(i=>{t.deselect(...i.map(s=>this._getExpansionKey(s)))})}}expandAll(){this.treeControl?this.treeControl.expandAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.select(...e))}collapseAll(){this.treeControl?this.treeControl.collapseAll():this._expansionModel&&this._forEachExpansionKey(e=>this._expansionModel?.deselect(...e))}_getLevelAccessor(){return this.treeControl?.getLevel?.bind(this.treeControl)??this.levelAccessor}_getChildrenAccessor(){return this.treeControl?.getChildren?.bind(this.treeControl)??this.childrenAccessor}_getDirectChildren(e){let t=this._getLevelAccessor(),i=this._expansionModel??this.treeControl?.expansionModel;if(!i)return f([]);let s=this._getExpansionKey(e),l=i.changed.pipe(U(m=>m.added.includes(s)?f(!0):m.removed.includes(s)?f(!1):Oe),ue(this.isExpanded(e)));if(t)return H([l,this._flattenedNodes]).pipe(E(([m,p])=>m?this._findChildrenByLevel(t,p,e,1):[]));let c=this._getChildrenAccessor();if(c)return oe(c(e)??[]);throw xt()}_findChildrenByLevel(e,t,i,s){let l=this._getExpansionKey(i),c=t.findIndex(V=>this._getExpansionKey(V)===l),m=e(i),p=m+s,w=[];for(let V=c+1;V<t.length;V++){let Ie=e(t[V]);if(Ie<=m)break;Ie<=p&&w.push(t[V])}return w}_registerNode(e){this._nodes.value.set(this._getExpansionKey(e.data),e),this._nodes.next(this._nodes.value)}_unregisterNode(e){this._nodes.value.delete(this._getExpansionKey(e.data)),this._nodes.next(this._nodes.value)}_getLevel(e){return this._levels.get(this._getExpansionKey(e))}_getSetSize(e){return this._getAriaSet(e).length}_getPositionInSet(e){let t=this._getAriaSet(e),i=this._getExpansionKey(e);return t.findIndex(s=>this._getExpansionKey(s)===i)+1}_getNodeParent(e){let t=this._parents.get(this._getExpansionKey(e.data));return t&&this._nodes.value.get(this._getExpansionKey(t))}_getNodeChildren(e){return this._getDirectChildren(e.data).pipe(E(t=>t.reduce((i,s)=>{let l=this._nodes.value.get(this._getExpansionKey(s));return l&&i.push(l),i},[])))}_sendKeydownToKeyManager(e){if(e.target===this._elementRef.nativeElement)this._keyManager.onKeydown(e);else{let t=this._nodes.getValue();for(let[,i]of t)if(e.target===i._elementRef.nativeElement){this._keyManager.onKeydown(e);break}}}_getDescendants(e){if(this.treeControl)return f(this.treeControl.getDescendants(e));if(this.levelAccessor){let t=this._findChildrenByLevel(this.levelAccessor,this._flattenedNodes.value,e,1/0);return f(t)}if(this.childrenAccessor)return this._getAllChildrenRecursively(e).pipe(he((t,i)=>(t.push(...i),t),[]));throw xt()}_getAllChildrenRecursively(e){return this.childrenAccessor?oe(this.childrenAccessor(e)).pipe(k(1),U(t=>{for(let i of t)this._parents.set(this._getExpansionKey(i),e);return f(...t).pipe(pe(i=>me(f([i]),this._getAllChildrenRecursively(i))))})):f([])}_getExpansionKey(e){return this.expansionKey?.(e)??e}_getAriaSet(e){let t=this._getExpansionKey(e),i=this._parents.get(t),s=i?this._getExpansionKey(i):null;return this._ariaSets.get(s)??[e]}_findParentForNode(e,t,i){if(!i.length)return null;let s=this._levels.get(this._getExpansionKey(e))??0;for(let l=t-1;l>=0;l--){let c=i[l];if((this._levels.get(this._getExpansionKey(c))??0)<s)return c}return null}_flattenNestedNodesWithExpansion(e,t=0){let i=this._getChildrenAccessor();return i?f(...e).pipe(pe(s=>{let l=this._getExpansionKey(s);this._parents.has(l)||this._parents.set(l,null),this._levels.set(l,t);let c=oe(i(s));return me(f([s]),c.pipe(k(1),q(m=>{this._ariaSets.set(l,[...m??[]]);for(let p of m??[]){let w=this._getExpansionKey(p);this._parents.set(w,s),this._levels.set(w,t+1)}}),U(m=>m?this._flattenNestedNodesWithExpansion(m,t+1).pipe(E(p=>this.isExpanded(s)?p:[])):f([]))))}),he((s,l)=>(s.push(...l),s),[])):f([...e])}_computeRenderingData(e,t){if(this.childrenAccessor&&t==="flat")return this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(E(i=>({renderNodes:i,flattenedNodes:i})));if(this.levelAccessor&&t==="nested"){let i=this.levelAccessor;return f(e.filter(s=>i(s)===0)).pipe(E(s=>({renderNodes:s,flattenedNodes:e})),q(({flattenedNodes:s})=>{this._calculateParents(s)}))}else return t==="flat"?f({renderNodes:e,flattenedNodes:e}).pipe(q(({flattenedNodes:i})=>{this._calculateParents(i)})):(this._clearPreviousCache(),this._ariaSets.set(null,[...e]),this._flattenNestedNodesWithExpansion(e).pipe(E(i=>({renderNodes:e,flattenedNodes:i}))))}_updateCachedData(e){this._flattenedNodes.next(e)}_updateKeyManagerItems(e){this._keyManagerNodes.next(e)}_calculateParents(e){let t=this._getLevelAccessor();if(t){this._clearPreviousCache();for(let i=0;i<e.length;i++){let s=e[i],l=this._getExpansionKey(s);this._levels.set(l,t(s));let c=this._findParentForNode(s,i,e);this._parents.set(l,c);let m=c?this._getExpansionKey(c):null,p=this._ariaSets.get(m)??[];p.splice(i,0,s),this._ariaSets.set(m,p)}}}_forEachExpansionKey(e){let t=[],i=[];this._nodes.value.forEach(s=>{t.push(this._getExpansionKey(s.data)),i.push(this._getDescendants(s.data))}),i.length>0?H(i).pipe(k(1),N(this._onDestroy)).subscribe(s=>{s.forEach(l=>l.forEach(c=>t.push(this._getExpansionKey(c)))),e(t)}):e(t)}_clearPreviousCache(){this._parents.clear(),this._levels.clear(),this._ariaSets.clear()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=x({type:r,selectors:[["cdk-tree"]],contentQueries:function(t,i,s){if(t&1&&qe(s,de,5),t&2){let l;F(l=L())&&(i._nodeDefs=l)}},viewQuery:function(t,i){if(t&1&&j(ae,7),t&2){let s;F(s=L())&&(i._nodeOutlet=s.first)}},hostAttrs:["role","tree",1,"cdk-tree"],hostBindings:function(t,i){t&1&&M("keydown",function(l){return i._sendKeydownToKeyManager(l)})},inputs:{dataSource:"dataSource",treeControl:"treeControl",levelAccessor:"levelAccessor",childrenAccessor:"childrenAccessor",trackBy:"trackBy",expansionKey:"expansionKey"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(t,i){t&1&&I(0,0)},dependencies:[ae],encapsulation:2})}return r})(),K=(()=>{class r{_elementRef=h(W);_tree=h(Q);_tabindex=-1;_type="flat";get role(){return"treeitem"}set role(e){}get isExpandable(){return this._isExpandable()}set isExpandable(e){this._inputIsExpandable=e,!(this.data&&!this._isExpandable||!this._inputIsExpandable)&&(this._inputIsExpanded?this.expand():this._inputIsExpanded===!1&&this.collapse())}get isExpanded(){return this._tree.isExpanded(this._data)}set isExpanded(e){this._inputIsExpanded=e,e?this.expand():this.collapse()}isDisabled;typeaheadLabel;getLabel(){return this.typeaheadLabel||this._elementRef.nativeElement.textContent?.trim()||""}activation=new _e;expandedChange=new _e;static mostRecentTreeNode=null;_destroyed=new O;_dataChanges=new O;_inputIsExpandable=!1;_inputIsExpanded=void 0;_shouldFocus=!0;_parentNodeAriaLevel;get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._dataChanges.next())}_data;get isLeafNode(){return this._tree.treeControl?.isExpandable!==void 0&&!this._tree.treeControl.isExpandable(this._data)?!0:this._tree.treeControl?.isExpandable===void 0&&this._tree.treeControl?.getDescendants(this._data).length===0}get level(){return this._tree._getLevel(this._data)??this._parentNodeAriaLevel}_isExpandable(){return this._tree.treeControl?!this.isLeafNode:this._inputIsExpandable}_getAriaExpanded(){return this._isExpandable()?String(this.isExpanded):null}_getSetSize(){return this._tree._getSetSize(this._data)}_getPositionInSet(){return this._tree._getPositionInSet(this._data)}_changeDetectorRef=h(ve);constructor(){r.mostRecentTreeNode=this}ngOnInit(){this._parentNodeAriaLevel=Rt(this._elementRef.nativeElement),this._tree._getExpansionModel().changed.pipe(E(()=>this.isExpanded),Le(),N(this._destroyed)).pipe(N(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._tree._setNodeTypeIfUnset(this._type),this._tree._registerNode(this)}ngOnDestroy(){r.mostRecentTreeNode===this&&(r.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}getParent(){return this._tree._getNodeParent(this)??null}getChildren(){return this._tree._getNodeChildren(this)}focus(){this._tabindex=0,this._shouldFocus&&this._elementRef.nativeElement.focus(),this._changeDetectorRef.markForCheck()}unfocus(){this._tabindex=-1,this._changeDetectorRef.markForCheck()}activate(){this.isDisabled||this.activation.next(this._data)}collapse(){this.isExpandable&&this._tree.collapse(this._data)}expand(){this.isExpandable&&this._tree.expand(this._data)}makeFocusable(){this._tabindex=0,this._changeDetectorRef.markForCheck()}_focusItem(){this.isDisabled||this._tree._keyManager.focusItem(this)}_setActiveItem(){this.isDisabled||(this._shouldFocus=!1,this._tree._keyManager.focusItem(this),this._shouldFocus=!0)}_emitExpansionState(e){this.expandedChange.emit(e)}static \u0275fac=function(t){return new(t||r)};static \u0275dir=y({type:r,selectors:[["cdk-tree-node"]],hostAttrs:["role","treeitem",1,"cdk-tree-node"],hostVars:5,hostBindings:function(t,i){t&1&&M("click",function(){return i._setActiveItem()})("focus",function(){return i._focusItem()}),t&2&&(ne("tabIndex",i._tabindex),v("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{role:"role",isExpandable:[2,"isExpandable","isExpandable",z],isExpanded:"isExpanded",isDisabled:[2,"isDisabled","isDisabled",z],typeaheadLabel:[0,"cdkTreeNodeTypeaheadLabel","typeaheadLabel"]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["cdkTreeNode"]})}return r})();function Rt(r){let n=r.parentElement;for(;n&&!Ft(n);)n=n.parentElement;return n?n.classList.contains("cdk-nested-tree-node")?C(n.getAttribute("aria-level")):0:-1}function Ft(r){let n=r.classList;return!!(n?.contains("cdk-nested-tree-node")||n?.contains("cdk-tree"))}var Lt=/([A-Za-z%]+)$/,ke=(()=>{class r{_treeNode=h(K);_tree=h(Q);_element=h(W);_dir=h(De,{optional:!0});_currentPadding;_destroyed=new O;indentUnits="px";get level(){return this._level}set level(e){this._setLevelInput(e)}_level;get indent(){return this._indent}set indent(e){this._setIndentInput(e)}_indent=40;constructor(){this._setPadding(),this._dir?.change.pipe(N(this._destroyed)).subscribe(()=>this._setPadding(!0)),this._treeNode._dataChanges.subscribe(()=>this._setPadding())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_paddingIndent(){let e=(this._treeNode.data&&this._tree._getLevel(this._treeNode.data))??null,t=this._level==null?e:this._level;return typeof t=="number"?`${t*this._indent}${this.indentUnits}`:null}_setPadding(e=!1){let t=this._paddingIndent();if(t!==this._currentPadding||e){let i=this._element.nativeElement,s=this._dir&&this._dir.value==="rtl"?"paddingRight":"paddingLeft",l=s==="paddingLeft"?"paddingRight":"paddingLeft";i.style[s]=t||"",i.style[l]="",this._currentPadding=t}}_setLevelInput(e){this._level=isNaN(e)?null:e,this._setPadding()}_setIndentInput(e){let t=e,i="px";if(typeof e=="string"){let s=e.split(Lt);t=s[0],i=s[1]||i}this.indentUnits=i,this._indent=C(t),this._setPadding()}static \u0275fac=function(t){return new(t||r)};static \u0275dir=y({type:r,selectors:[["","cdkTreeNodePadding",""]],inputs:{level:[2,"cdkTreeNodePadding","level",C],indent:[0,"cdkTreeNodePaddingIndent","indent"]}})}return r})(),Ne=(()=>{class r{_tree=h(Q);_treeNode=h(K);recursive=!1;constructor(){}_toggle(){this.recursive?this._tree.toggleDescendants(this._treeNode.data):this._tree.toggle(this._treeNode.data),this._tree._keyManager.focusItem(this._treeNode)}static \u0275fac=function(t){return new(t||r)};static \u0275dir=y({type:r,selectors:[["","cdkTreeNodeToggle",""]],hostAttrs:["tabindex","-1"],hostBindings:function(t,i){t&1&&M("click",function(l){return i._toggle(),l.stopPropagation()})("keydown.Enter",function(l){return i._toggle(),l.preventDefault()})("keydown.Space",function(l){return i._toggle(),l.preventDefault()})},inputs:{recursive:[2,"cdkTreeNodeToggleRecursive","recursive",z]}})}return r})();var yt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=b({type:r});static \u0275inj=S({})}return r})();var Bt=["determinateSpinner"];function Kt(r,n){if(r&1&&(ge(),u(0,"svg",11),Y(1,"circle",12),g()),r&2){let e=A();v("viewBox",e._viewBox()),_(),re("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),v("r",e._circleRadius())}}var Vt=new Z("mat-progress-spinner-default-options",{providedIn:"root",factory:Wt});function Wt(){return{diameter:vt}}var vt=100,jt=10,Ct=(()=>{class r{_elementRef=h(W);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=h(Vt),t=mt(),i=this._elementRef.nativeElement;this._noopAnimations=t==="di-disabled"&&!!e&&!e._forceAnimations,this.mode=i.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&t==="reduced-motion"&&i.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=vt;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-jt)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=x({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(t&1&&j(Bt,5),t&2){let s;F(s=L())&&(i._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,i){t&2&&(v("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),Ge("mat-"+i.color),re("width",i.diameter,"px")("height",i.diameter,"px")("--mat-progress-spinner-size",i.diameter+"px")("--mat-progress-spinner-active-indicator-width",i.diameter+"px"),Ye("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",C],diameter:[2,"diameter","diameter",C],strokeWidth:[2,"strokeWidth","strokeWidth",C]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(t&1&&(ee(0,Kt,2,8,"ng-template",null,0,tt),u(2,"div",2,1),ge(),u(4,"svg",3),Y(5,"circle",4),g()(),Ve(),u(6,"div",5)(7,"div",6)(8,"div",7),I(9,8),g(),u(10,"div",9),I(11,8),g(),u(12,"div",10),I(13,8),g()()()),t&2){let s=$e(1);_(4),v("viewBox",i._viewBox()),_(),re("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),v("r",i._circleRadius()),_(4),T("ngTemplateOutlet",s),_(2),T("ngTemplateOutlet",s),_(2),T("ngTemplateOutlet",s)}},dependencies:[st],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return r})();var Dt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=b({type:r});static \u0275inj=S({imports:[G]})}return r})();function Qt(r){return!!r._isNoopTreeKeyManager}var bt=(()=>{class r extends K{get tabIndexInputBinding(){return this._tabIndexInputBinding}set tabIndexInputBinding(e){this._tabIndexInputBinding=e}_tabIndexInputBinding;defaultTabIndex=0;_getTabindexAttribute(){return Qt(this._tree._keyManager)?this.tabIndexInputBinding:this._tabindex}get disabled(){return this.isDisabled}set disabled(e){this.isDisabled=e}constructor(){super();let e=h(new nt("tabindex"),{optional:!0});this.tabIndexInputBinding=Number(e)||this.defaultTabIndex}ngOnInit(){super.ngOnInit()}ngOnDestroy(){super.ngOnDestroy()}static \u0275fac=function(t){return new(t||r)};static \u0275dir=y({type:r,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:5,hostBindings:function(t,i){t&1&&M("click",function(){return i._focusItem()}),t&2&&(ne("tabIndex",i._getTabindexAttribute()),v("aria-expanded",i._getAriaExpanded())("aria-level",i.level+1)("aria-posinset",i._getPositionInSet())("aria-setsize",i._getSetSize()))},inputs:{tabIndexInputBinding:[2,"tabIndex","tabIndexInputBinding",e=>e==null?0:C(e)],disabled:[2,"disabled","disabled",z]},outputs:{activation:"activation",expandedChange:"expandedChange"},exportAs:["matTreeNode"],features:[P([{provide:K,useExisting:r}]),R]})}return r})(),Tt=(()=>{class r extends de{data;static \u0275fac=(()=>{let e;return function(i){return(e||(e=$(r)))(i||r)}})();static \u0275dir=y({type:r,selectors:[["","matTreeNodeDef",""]],inputs:{when:[0,"matTreeNodeDefWhen","when"],data:[0,"matTreeNode","data"]},features:[P([{provide:de,useExisting:r}]),R]})}return r})();var Mt=(()=>{class r extends ke{get level(){return this._level}set level(e){this._setLevelInput(e)}get indent(){return this._indent}set indent(e){this._setIndentInput(e)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=$(r)))(i||r)}})();static \u0275dir=y({type:r,selectors:[["","matTreeNodePadding",""]],inputs:{level:[2,"matTreeNodePadding","level",C],indent:[0,"matTreeNodePaddingIndent","indent"]},features:[P([{provide:ke,useExisting:r}]),R]})}return r})(),St=(()=>{class r{viewContainer=h(J);_node=h(we,{optional:!0});static \u0275fac=function(t){return new(t||r)};static \u0275dir=y({type:r,selectors:[["","matTreeNodeOutlet",""]],features:[P([{provide:ae,useExisting:r}])]})}return r})(),wt=(()=>{class r extends Q{_nodeOutlet=void 0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=$(r)))(i||r)}})();static \u0275cmp=x({type:r,selectors:[["mat-tree"]],viewQuery:function(t,i){if(t&1&&j(St,7),t&2){let s;F(s=L())&&(i._nodeOutlet=s.first)}},hostAttrs:[1,"mat-tree"],exportAs:["matTree"],features:[P([{provide:Q,useExisting:r}]),R],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(t,i){t&1&&I(0,0)},dependencies:[St],styles:[`.mat-tree{display:block;background-color:var(--mat-tree-container-background-color, var(--mat-sys-surface))}.mat-tree-node,.mat-nested-tree-node{color:var(--mat-tree-node-text-color, var(--mat-sys-on-surface));font-family:var(--mat-tree-node-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-tree-node-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-tree-node-text-weight, var(--mat-sys-body-large-weight))}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word;min-height:var(--mat-tree-node-min-height, 48px)}.mat-nested-tree-node{border-bottom-width:0}
`],encapsulation:2})}return r})(),kt=(()=>{class r extends Ne{static \u0275fac=(()=>{let e;return function(i){return(e||(e=$(r)))(i||r)}})();static \u0275dir=y({type:r,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:[0,"matTreeNodeToggleRecursive","recursive"]},features:[P([{provide:Ne,useExisting:r}]),R]})}return r})();var Nt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=b({type:r});static \u0275inj=S({imports:[yt,G,G]})}return r})(),le=class{transformFunction;getLevel;isExpandable;getChildren;constructor(n,e,t,i){this.transformFunction=n,this.getLevel=e,this.isExpandable=t,this.getChildren=i}_flattenNode(n,e,t,i){let s=this.transformFunction(n,e);if(t.push(s),this.isExpandable(s)){let l=this.getChildren(n);l&&(Array.isArray(l)?this._flattenChildren(l,e,t,i):l.pipe(k(1)).subscribe(c=>{this._flattenChildren(c,e,t,i)}))}return t}_flattenChildren(n,e,t,i){n.forEach((s,l)=>{let c=i.slice();c.push(l!=n.length-1),this._flattenNode(s,e+1,t,c)})}flattenNodes(n){let e=[];return n.forEach(t=>this._flattenNode(t,0,e,[])),e}expandFlattenedNodes(n,e){let t=[],i=[];return i[0]=!0,n.forEach(s=>{let l=!0;for(let c=0;c<=this.getLevel(s);c++)l=l&&i[c];l&&t.push(s),this.isExpandable(s)&&(i[this.getLevel(s)+1]=e.isExpanded(s))}),t}},ce=class extends Se{_treeControl;_treeFlattener;_flattenedData=new D([]);_expandedData=new D([]);get data(){return this._data.value}set data(n){this._data.next(n),this._flattenedData.next(this._treeFlattener.flattenNodes(this.data)),this._treeControl.dataNodes=this._flattenedData.value}_data=new D([]);constructor(n,e,t){super(),this._treeControl=n,this._treeFlattener=e,t&&(this.data=t)}connect(n){return Fe(n.viewChange,this._treeControl.expansionModel.changed,this._flattenedData).pipe(E(()=>(this._expandedData.next(this._treeFlattener.expandFlattenedNodes(this._flattenedData.value,this._treeControl)),this._expandedData.value)))}disconnect(){}};var Ut=["*"];function qt(r,n){r&1&&(u(0,"div",0),Y(1,"mat-spinner",4),g())}function $t(r,n){if(r&1){let e=Qe();u(0,"mat-tree-node",5)(1,"button",6),M("click",function(){let i=Be(e).$implicit,s=A();return Ke(s.treeDataSelected.emit(i))}),o(2),g()()}if(r&2){let e=n.$implicit;_(2),fe(" ",e.name," ")}}function Yt(r,n){if(r&1&&(u(0,"span"),o(1),g()),r&2){let e=A().$implicit;_(),Xe(e.name)}}function Gt(r,n){if(r&1&&(u(0,"mat-tree-node",7)(1,"button",8)(2,"mat-icon",9),o(3),g()(),u(4,"div",10),Ue(5,0,null,Yt,2,1),g()()),r&2){let e=n.$implicit,t=A();_(),v("aria-label","Toggle "+e.name),_(2),fe(" ",t.treeControl.isExpanded(e)?"expand_more":"chevron_right"," ")}}var It=(()=>{let n=class n{constructor(){this.treeData=ye.required(),this.isLoading=ye(!1),this.treeDataSelected=rt(),this._transformer=(t,i)=>({expandable:!!t.children&&t.children.length>0,children:t.children,id:t.id,level:i,name:t.name,rawData:t.rawData}),this.hasChild=(t,i)=>i.children.length>0,this.treeControl=new se(t=>t.level,t=>t.expandable),this.treeFlattener=new le(this._transformer,t=>t.level,t=>t.expandable,t=>t.children),this.dataSource=new ce(this.treeControl,this.treeFlattener),it(()=>{this.dataSource.data=this.treeData()})}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=x({type:n,selectors:[["c3-tree"]],inputs:{treeData:[1,"treeData"],isLoading:[1,"isLoading"]},outputs:{treeData:"treeDataChange",isLoading:"isLoadingChange",treeDataSelected:"treeDataSelected"},ngContentSelectors:Ut,decls:4,vars:4,consts:[[1,"c3-tree-loader"],[3,"dataSource","treeControl"],["matTreeNodePadding","","class","children",4,"matTreeNodeDef"],["matTreeNodePadding","","class","has-children",4,"matTreeNodeDef","matTreeNodeDefWhen"],["diameter","50"],["matTreeNodePadding","",1,"children"],["mat-ripple","",3,"click"],["matTreeNodePadding","",1,"has-children"],["matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],[1,"mat-tree-node-content"]],template:function(i,s){i&1&&(He(),te(0,qt,2,0,"div",0),u(1,"mat-tree",1),ee(2,$t,3,1,"mat-tree-node",2)(3,Gt,7,2,"mat-tree-node",3),g()),i&2&&(ie(s.isLoading()?0:-1),_(),T("dataSource",s.dataSource)("treeControl",s.treeControl),_(2),T("matTreeNodeDefWhen",s.hasChild))},dependencies:[Nt,Tt,Mt,kt,wt,bt,ct,lt,pt,ht,Dt,Ct],styles:["[_nghost-%COMP%]{display:block;width:100%;position:relative;min-height:100%;padding:4px 0}.c3-tree-loader[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}mat-tree[_ngcontent-%COMP%]{width:100%;height:100%;background-color:transparent;border:1px solid var(--mat-divider-color);border-radius:4px;overflow:auto}mat-tree[_ngcontent-%COMP%]   mat-tree-node[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:start;gap:1rem}mat-tree[_ngcontent-%COMP%]   mat-tree-node.has-children[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{height:32px;width:32px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:1px solid transparent;margin:.5rem}mat-tree[_ngcontent-%COMP%]   mat-tree-node.has-children[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]:hover{border-color:var(--mat-divider-color)}mat-tree[_ngcontent-%COMP%]   mat-tree-node.has-children[_ngcontent-%COMP%]:hover{background-color:var(--background-hover)}mat-tree[_ngcontent-%COMP%]   mat-tree-node.has-children[_ngcontent-%COMP%]   .mat-tree-node-content[_ngcontent-%COMP%]{padding-right:.25rem;display:flex;justify-content:space-between;align-items:center;width:100%}mat-tree[_ngcontent-%COMP%]   mat-tree-node.children[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;border-radius:.25rem;padding:0 1rem;height:2rem;text-align:left}mat-tree[_ngcontent-%COMP%]   mat-tree-node.children[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--background-hover)}mat-tree[_ngcontent-%COMP%]   mat-tree-node[_ngcontent-%COMP%]:hover{background-color:var(--background-hover)}"]});let r=n;return r})();var At=()=>({});function Xt(r,n){if(r&1&&(u(0,"p",4)(1,"strong"),o(2,"Selected:"),g(),o(3),g()),r&2){let e=A();_(3),Ze(" ",e.selectedNode.name," \u2014 ",e.selectedNode.rawData.description," ")}}var Pt=(()=>{let n=class n{constructor(){this.isLoading=!1,this.selectedNode=null,this.treeData=[{id:1,level:0,name:"Documents",children:[{id:2,level:1,name:"Reports",ancestorId:1,children:[{id:3,level:2,name:"Annual Report 2025",ancestorId:2,children:[],rawData:{description:"Annual financial report"}},{id:4,level:2,name:"Monthly Summary",ancestorId:2,children:[],rawData:{description:"Monthly overview"}}],rawData:{description:"All reports"}},{id:5,level:1,name:"Photos",ancestorId:1,children:[],rawData:{description:"Photo gallery"}}],rawData:{description:"Root folder"}},{id:6,level:0,name:"Downloads",children:[],rawData:{description:"Downloaded files"}}]}onNodeSelected(t){this.selectedNode=t}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=x({type:n,selectors:[["c3-examples"]],decls:22,vars:7,consts:[[1,"my-4"],["title",""],["example",""],[3,"treeDataChange","isLoadingChange","treeDataSelected","treeData","isLoading"],[2,"margin-top","16px","padding","12px","background","var(--surface-elevated, #f5f5f5)","border-radius","8px"],["label","HTML"],["highlight-js","","lang","html",3,"options"],["label","TypeScript"],["highlight-js","","lang","typescript",3,"options"]],template:function(i,s){i&1&&(u(0,"p",0),o(1," The "),u(2,"code"),o(3,"c3-tree"),g(),o(4," component wraps Angular Material's "),u(5,"code"),o(6,"MatTree"),g(),o(7,` with automatic flattening and loading support.
`),g(),u(8,"example-viewer")(9,"h4",1),o(10,"Basic Tree"),g(),je(11,2),u(12,"c3-tree",3),et("treeDataChange",function(c){return Ee(s.treeData,c)||(s.treeData=c),c})("isLoadingChange",function(c){return Ee(s.isLoading,c)||(s.isLoading=c),c}),M("treeDataSelected",function(c){return s.onNodeSelected(c)}),g(),te(13,Xt,4,2,"p",4),ze(),u(14,"c3-example-viewer-tab",5)(15,"div")(16,"textarea",6),o(17,`<c3-tree
  [(treeData)]="treeData"
  [(isLoading)]="isLoading"
  (treeDataSelected)="onNodeSelected($event)"
></c3-tree>
      `),g()()(),u(18,"c3-example-viewer-tab",7)(19,"div")(20,"textarea",8),o(21,`import { C3TreeComponent, TreeType } from 'c3-components';

interface MyData {
  description: string;
}
type MyNode = TreeType<MyData>;

@Component({
  imports: [C3TreeComponent],
})
export class MyComponent {
  isLoading = false;
  selectedNode: MyNode | null = null;

  treeData: MyNode[] = [
    {
      id: 1,
      level: 0,
      name: 'Documents',
      children: [
        {
          id: 2, level: 1, name: 'Reports',
          ancestorId: 1, children: [],
          rawData: { description: 'All reports' }
        },
      ],
      rawData: { description: 'Root folder' }
    }
  ];

  onNodeSelected(node: MyNode): void {
    this.selectedNode = node;
  }
}
      `),g()()()()),i&2&&(_(12),Je("treeData",s.treeData)("isLoading",s.isLoading),_(),ie(s.selectedNode?13:-1),_(3),T("options",xe(5,At)),_(4),T("options",xe(6,At)))},dependencies:[It,_t,gt,ut],encapsulation:2});let r=n;return r})();var Zt=[{path:"",component:ft,children:[{path:"api",component:Et},{path:"examples",component:Pt},{path:"**",redirectTo:"examples"}],data:{links:[{url:"api",label:"Api"},{url:"examples",label:"Examples"}]}}],Ot=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=b({type:n}),n.\u0275inj=S({imports:[Ce.forChild(Zt),Ce]});let r=n;return r})();var fn=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=b({type:n}),n.\u0275inj=S({imports:[at,Ot]});let r=n;return r})();export{fn as TreeModule};
