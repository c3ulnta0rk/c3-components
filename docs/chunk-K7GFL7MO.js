import{b as xe,c as Ve,h as ve}from"./chunk-C26QZM2G.js";import{a as be,b as he}from"./chunk-NR2PDOT7.js";import{a as ge,e as we}from"./chunk-3AGOTUSJ.js";import{d as me,e as de,f as Ce,g as _e}from"./chunk-DENMCCOT.js";import{$b as ae,A as X,E as Z,Hb as g,Ib as z,Kb as ne,Lb as a,Mb as u,Pb as oe,Q as q,Qb as le,Rb as s,Sb as c,Tb as C,U as L,Ub as re,Uc as O,Vb as se,Vc as ue,Xb as _,Xc as T,Z as G,Za as E,Zb as p,Zc as pe,_a as Q,_b as l,a as x,ab as P,ac as ce,b as N,bb as r,gb as V,ja as K,k,ka as m,kc as h,la as d,lc as v,mc as fe,n as B,qb as b,r as W,rb as ee,rc as I,sb as te,sc as F,t as Y,tb as ie,ua as S,wb as w,ya as D,za as J}from"./chunk-GWNEGHHC.js";var Ie=(()=>{class t{set fullscreenState(e){this._fullscreenState.next(e?.valueOf()||!1)}set fullscreenStateSetter(e){this.fullscreenState=e}constructor(e){this.el=e,this._fullscreenState=new k(!1),this._fullscreenState.pipe(X(i=>i!==null),q(2),Z(100)).subscribe(()=>{this.defineState()})}defineState(){if(this._fullscreenState.getValue()){let e=this.el.nativeElement,i=e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;i?i.call(e):console.log("FullScreen Request Method Not Supported on this browser.")}else{let e=document,i=e.cancelFullscreen||e.webkitExitFullscreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.msExitFullScreen;i?i.call(e):console.log("FullScreen Cancel Request Method Not Supported on this browser.")}}static{this.\u0275fac=function(i){return new(i||t)(V(J))}}static{this.\u0275dir=te({type:t,selectors:[["","C3FullScreen",""],["","c3-full-screen",""]],inputs:{fullscreenState:[0,"c3Screenfull","fullscreenState"],fullscreenStateSetter:[0,"c3-full-screen","fullscreenStateSetter"]},standalone:!1})}}return t})();var He=(t,n)=>n.icon.text;function Ne(t,n){if(t&1&&C(0,"span"),t&2){let e=l(2);a(e.config.btnIcons==null||e.config.btnIcons.prev==null?null:e.config.btnIcons.prev.classes)}}function Be(t,n){if(t&1){let e=_();s(0,"a",5),p("click",function(o){m(e);let f=l(2);return d(f.fileViewer.previousImage(o))}),s(1,"span"),h(2),c()()}if(t&2){let e=l(2);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.prev==null?null:e.config.btnIcons.prev.text)}}function Le(t,n){if(t&1){let e=_();s(0,"button",4),p("click",function(o){m(e);let f=l();return d(f.fileViewer.previousImage(o))}),w(1,Ne,1,2,"span",2),c(),w(2,Be,3,5,"a",2)}if(t&2){let e=l();a(e.config.btnClass),g("disabled",e.fileViewer.currentIndex===0),r(),u(!(e.config.btnIcons==null||e.config.btnIcons.prev==null)&&e.config.btnIcons.prev.classes?1:-1),r(),u(!(e.config.btnIcons==null||e.config.btnIcons.prev==null)&&e.config.btnIcons.prev.text?2:-1)}}function Pe(t,n){if(t&1){let e=_();s(0,"button",4),p("click",function(o){m(e);let f=l();return d(f.fileViewer.nextImage(o))}),C(1,"span"),c()}if(t&2){let e=l();a(e.config.btnClass),g("disabled",e.fileViewer.currentIndex===e.fileViewer.files.length-1),r(),a(e.config.btnIcons==null||e.config.btnIcons.next==null?null:e.config.btnIcons.next.classes)}}function $e(t,n){if(t&1){let e=_();s(0,"a",5),p("click",function(o){m(e);let f=l();return d(f.fileViewer.nextImage(o))}),s(1,"span"),h(2),c()()}if(t&2){let e=l();a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.next==null?null:e.config.btnIcons.next.text)}}function Re(t,n){if(t&1){let e=_();s(0,"button",9),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.rotateCounterClockwise())}),C(1,"span"),c()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.classes)}}function We(t,n){if(t&1){let e=_();s(0,"a",5),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.rotateCounterClockwise())}),s(1,"span"),h(2),c()()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.text)}}function Ye(t,n){if(t&1&&w(0,Re,2,4,"button",7)(1,We,3,5,"a",8),t&2){let e=l(2);g("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.classes),r(),g("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.text)}}function Xe(t,n){if(t&1){let e=_();s(0,"button",9),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.rotateClockwise())}),C(1,"span"),c()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.classes)}}function Ze(t,n){if(t&1){let e=_();s(0,"a",5),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.rotateClockwise())}),s(1,"span"),h(2),c()()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.text)}}function qe(t,n){if(t&1&&w(0,Xe,2,4,"button",10)(1,Ze,3,5,"a",2),t&2){let e=l(2);u(!(e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null)&&e.config.btnIcons.rotateClockwise.classes?0:-1),r(),u(!(e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null)&&e.config.btnIcons.rotateClockwise.text?1:-1)}}function Ge(t,n){if(t&1){let e=_();s(0,"button",9),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.zoomOut())}),C(1,"span"),c(),s(2,"a",5),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.zoomOut())}),s(3,"span"),h(4),c()()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.classes),r(),a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.text)}}function Ke(t,n){if(t&1&&w(0,Ge,5,9),t&2){let e=l(2);u(!(e.config.btnIcons==null||e.config.btnIcons.zoomOut==null)&&e.config.btnIcons.zoomOut.classes?0:-1)}}function Je(t,n){if(t&1){let e=_();s(0,"button",9),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.zoomIn())}),C(1,"span"),c()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.classes)}}function Qe(t,n){if(t&1){let e=_();s(0,"a",5),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.zoomIn())}),s(1,"span"),h(2),c()()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.text)}}function et(t,n){if(t&1&&w(0,Je,2,4,"button",10)(1,Qe,3,5,"a",2),t&2){let e=l(2);u(!(e.config.btnIcons==null||e.config.btnIcons.zoomIn==null)&&e.config.btnIcons.zoomIn.classes?0:-1),r(),u(!(e.config.btnIcons==null||e.config.btnIcons.zoomIn==null)&&e.config.btnIcons.zoomIn.text?1:-1)}}function tt(t,n){if(t&1){let e=_();s(0,"button",9),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.toggleFullscreen())}),C(1,"span"),c()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.classes)}}function it(t,n){if(t&1){let e=_();s(0,"a",5),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.toggleFullscreen())}),s(1,"span"),h(2),c()()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.text)}}function nt(t,n){if(t&1&&w(0,tt,2,4,"button",10)(1,it,3,5,"a",2),t&2){let e=l(2);u(!(e.config.btnIcons==null||e.config.btnIcons.fullscreen==null)&&e.config.btnIcons.fullscreen.classes?0:-1),r(),u(!(e.config.btnIcons==null||e.config.btnIcons.fullscreen==null)&&e.config.btnIcons.fullscreen.text?1:-1)}}function ot(t,n){if(t&1){let e=_();s(0,"button",9),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.reset())}),C(1,"span"),c()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.classes)}}function lt(t,n){if(t&1){let e=_();s(0,"a",5),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.reset())}),s(1,"span"),h(2),c()()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.text)}}function rt(t,n){if(t&1&&w(0,ot,2,4,"button",10)(1,lt,3,5,"a",2),t&2){let e=l(2);u(!(e.config.btnIcons==null||e.config.btnIcons.reset==null)&&e.config.btnIcons.reset.classes?0:-1),r(),u(!(e.config.btnIcons==null||e.config.btnIcons.reset==null)&&e.config.btnIcons.reset.text?1:-1)}}function st(t,n){if(t&1){let e=_();s(0,"button",9),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.download())}),C(1,"span"),c()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.download==null?null:e.config.btnIcons.download.classes)}}function at(t,n){if(t&1){let e=_();s(0,"a",5),p("click",function(){m(e);let o=l(3);return d(o.fileViewer.download())}),s(1,"span"),h(2),c()()}if(t&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.download==null?null:e.config.btnIcons.download.text)}}function ct(t,n){if(t&1&&w(0,st,2,4,"button",10)(1,at,3,5,"a",2),t&2){let e=l(2);u(!(e.config.btnIcons==null||e.config.btnIcons.download==null)&&e.config.btnIcons.download.classes?0:-1),r(),u(!(e.config.btnIcons==null||e.config.btnIcons.download==null)&&e.config.btnIcons.download.text?1:-1)}}function ft(t,n){if(t&1&&(s(0,"button",11),C(1,"span"),c()),t&2){let e=l().$implicit,i=l(2);a(i.config.btnClass),r(),a(e.icon.classes)}}function ut(t,n){if(t&1&&(s(0,"a")(1,"span"),h(2),c()()),t&2){let e=l().$implicit,i=l(2);a(i.config.btnClass),r(),a(i.config.btnSubClass),r(),v(e.icon.text)}}function pt(t,n){if(t&1&&w(0,ft,2,4,"button",10)(1,ut,3,5,"a",2),t&2){let e=n.$implicit;u(e.icon.classes?0:-1),r(),u(e.icon.text?1:-1)}}function mt(t,n){if(t&1&&(s(0,"div",6),w(1,Ye,2,2)(2,qe,2,2)(3,Ke,1,1)(4,et,2,2)(5,nt,2,2)(6,rt,2,2)(7,ct,2,2),oe(8,pt,2,2,null,null,He),c()),t&2){let e=l();a(e.config.btnContainerClass),r(),u(e.config.btnShow!=null&&e.config.btnShow.rotateCounterClockwise?1:-1),r(),u(e.config.btnShow!=null&&e.config.btnShow.rotateClockwise?2:-1),r(),u(e.config.btnShow!=null&&e.config.btnShow.zoomOut?3:-1),r(),u(e.config.btnShow!=null&&e.config.btnShow.zoomIn?4:-1),r(),u(e.config.allowFullscreen?5:-1),r(),u(e.config.btnShow!=null&&e.config.btnShow.reset?6:-1),r(),u(e.config.btnShow!=null&&e.config.btnShow.download?7:-1),r(),le(e.config.customBtns)}}var Fe=(()=>{class t{get config(){return this.fileViewer.config}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["c3-file-viewer-actions"]],inputs:{fileViewer:"fileViewer"},standalone:!1,decls:5,vars:4,consts:[[1,"nav-button-container"],["type","button",3,"class","disabled"],[3,"class"],[1,"btn-container",3,"class"],["type","button",3,"click","disabled"],[3,"click"],[1,"btn-container"],["type","button",3,"class","click",4,"ngIf"],[3,"class","click",4,"ngIf"],["type","button",3,"click"],["type","button",3,"class"],["type","button"]],template:function(i,o){i&1&&(s(0,"div",0),w(1,Le,3,5)(2,Pe,2,5,"button",1)(3,$e,3,5,"a",2),c(),w(4,mt,10,9,"div",3)),i&2&&(r(),u(o.config.btnShow!=null&&o.config.btnShow.prev?1:-1),r(),u(o.config.btnShow!=null&&o.config.btnShow.next?2:-1),r(),u(!(o.config.btnIcons==null||o.config.btnIcons.next==null)&&o.config.btnIcons.next.text?3:-1),r(),u(o.fileViewer.currentFile.type.startsWith("image")?4:-1))},dependencies:[O],encapsulation:2})}}return t})();var M=(()=>{class t{constructor(e){this.sanitizer=e}transform(e){return e?this.sanitizer.bypassSecurityTrustResourceUrl(e):""}static{this.\u0275fac=function(i){return new(i||t)(V(_e,16))}}static{this.\u0275pipe=ie({name:"c3SafeUrl",type:t,pure:!0})}}return t})();function Ct(t,n){if(t&1){let e=_();s(0,"img",1),I(1,"async"),I(2,"c3SafeUrl"),p("dragstart",function(o){m(e);let f=l();return d(f.dragstart.emit(o))}),c()}if(t&2){let e=l();g("src",F(2,4,F(1,2,e.fileViewer.currentFile.objectUrl)),E)("ngStyle",e.fileViewer.style)}}var ye=(()=>{class t{constructor(){this.dragstart=new S}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["c3-file-viewer-image"],["","c3-file-viewer-image",""]],inputs:{fileViewer:"fileViewer"},outputs:{dragstart:"dragstart"},standalone:!1,decls:1,vars:1,consts:[["alt","Image not found...",3,"src","ngStyle","dragstart",4,"ngIf"],["alt","Image not found...",3,"dragstart","src","ngStyle"]],template:function(i,o){i&1&&w(0,Ct,3,6,"img",0),i&2&&g("ngIf",o.fileViewer.currentFile.objectUrl)},dependencies:[O,ue,T,M],encapsulation:2})}}return t})();var Se=(()=>{class t{constructor(){this.dragstart=new S}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["c3-file-viewer-pdf"]],hostAttrs:[1,"c3-file-viewer-pdf",2,"display","block"],inputs:{fileViewer:"fileViewer"},outputs:{dragstart:"dragstart"},standalone:!1,decls:6,vars:9,consts:[["type","application/pdf",3,"src"],["mat-icon-button","",1,"download-button",3,"click"]],template:function(i,o){i&1&&(C(0,"embed",0),I(1,"async"),I(2,"c3SafeUrl"),s(3,"button",1),p("click",function(){return o.fileViewer.download()}),s(4,"mat-icon"),h(5,"download"),c()()),i&2&&(z("height","100%")("width","100%"),g("src",F(2,7,F(1,5,o.fileViewer.currentFile.objectUrl)),Q))},dependencies:[be,ge,T,M],encapsulation:2})}}return t})();var Te=(()=>{class t{constructor(){this.fileViewer=D.required()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["c3-file-viewer-video"]],inputs:{fileViewer:[1,"fileViewer"]},standalone:!1,decls:3,vars:5,consts:[["controls","","crossorigin","*",3,"src"]],template:function(i,o){i&1&&(C(0,"video",0),I(1,"async"),I(2,"c3SafeUrl")),i&2&&g("src",F(2,3,F(1,1,o.fileViewer().currentFile.objectUrl)),E)},dependencies:[T,M],encapsulation:2})}}return t})();var ke=(()=>{class t{constructor(){this.fileViewer=D.required()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=b({type:t,selectors:[["c3-file-viewer-default"]],inputs:{fileViewer:[1,"fileViewer"]},standalone:!1,decls:3,vars:1,consts:[[3,"click"]],template:function(i,o){i&1&&(re(0),s(1,"button",0),p("click",function(){return o.fileViewer().download()}),h(2),c(),se()),i&2&&(r(2),fe("Download ",o.fileViewer().getOriginalName(),""))},styles:["[_nghost-%COMP%]{display:block}"]})}}return t})();function ht(t,n){if(t&1){let e=_();s(0,"c3-file-viewer-image",5),p("dragstart",function(o){m(e);let f=l(2);return d(f.fileViewer.onDragStart(o))}),c()}if(t&2){let e=l(2);ne(e.fileViewer.style),g("fileViewer",e.fileViewer)}}function xt(t,n){if(t&1&&C(0,"c3-file-viewer-video",3),t&2){let e=l(2);g("fileViewer",e.fileViewer)}}function Vt(t,n){if(t&1&&C(0,"c3-file-viewer-pdf",3),t&2){let e=l(2);g("fileViewer",e.fileViewer)}}function vt(t,n){if(t&1&&C(0,"c3-file-viewer-default",3),t&2){let e=l(2);g("fileViewer",e.fileViewer)}}function It(t,n){t&1&&(s(0,"div",4),C(1,"div",6),c())}function Ft(t,n){if(t&1){let e=_();s(0,"div",1),I(1,"async"),p("wheel",function(o){m(e);let f=l();return d(f.fileViewer.scrollZoom(o))})("dragover",function(o){m(e);let f=l();return d(f.fileViewer.onDragOver(o))}),w(2,ht,1,3,"c3-file-viewer-image",2)(3,xt,1,1,"c3-file-viewer-video",3)(4,Vt,1,1,"c3-file-viewer-pdf",3)(5,vt,1,1,"c3-file-viewer-default",3),C(6,"div"),w(7,It,2,0,"div",4),C(8,"c3-file-viewer-actions",3),c()}if(t&2){let e=l();z("height",e.fileViewer.styleHeight)("background-color",e.fileViewer.config.containerBackgroundColor),g("c3-full-screen",F(1,8,e.fileViewer.fullscreen$)),r(2),u(e.fileViewer.currentFile.type.startsWith("image")?2:e.fileViewer.currentFile.type.startsWith("video")?3:e.fileViewer.currentFile.type.startsWith("application/pdf")?4:5),r(5),u(e.fileViewer.loading?7:-1),r(),g("fileViewer",e.fileViewer)}}var Me=(()=>{class t{constructor(e,i){this.moduleConfig=e,this._http=i,this.indexChange=new S,this.configChange=new S,this.customFileEvent=new S}ngOnInit(){this.defineStyleHeight(),this.fileViewer.customFile$.subscribe(e=>{this.customFileEvent.emit(e)}),this.fileViewer.index$.subscribe(e=>{this.indexChange.emit(e)}),this.fileViewer.config$.subscribe(e=>{this.configChange.emit(e)})}onMouseOver(){this.fileViewer&&(this.fileViewer.hovered=!0)}onMouseLeave(){this.fileViewer&&(this.fileViewer.hovered=!1)}ngOnChanges(e){e.screenHeightOccupied&&this.fileViewer&&this.defineStyleHeight()}next(e){this.fileViewer.nextImage(e)}previous(e){this.fileViewer.previousImage(e)}defineStyleHeight(){this.fileViewer.styleHeight="calc(100% - "+this.screenHeightOccupied+"px)"}static{this.\u0275fac=function(i){return new(i||t)(V("config",8),V(me))}}static{this.\u0275cmp=b({type:t,selectors:[["c3-file-viewer"]],hostAttrs:[1,"c3-file-viewer"],hostBindings:function(i,o){i&1&&p("mouseover",function(){return o.onMouseOver()})("mouseleave",function(){return o.onMouseLeave()})("keyup.ArrowRight",function(A){return o.next(A)},!1,P)("keyup.ArrowLeft",function(A){return o.previous(A)},!1,P)},inputs:{screenHeightOccupied:"screenHeightOccupied",fileViewer:"fileViewer"},outputs:{indexChange:"indexChange",configChange:"configChange",customFileEvent:"customFileEvent"},standalone:!1,features:[K],decls:1,vars:1,consts:[[1,"c3-file-container",3,"c3-full-screen","height","backgroundColor"],[1,"c3-file-container",3,"wheel","dragover","c3-full-screen"],[3,"fileViewer","style"],[3,"fileViewer"],[1,"spinner-container"],[3,"dragstart","fileViewer"],[1,"spinner"]],template:function(i,o){i&1&&w(0,Ft,9,10,"div",0),i&2&&u(o.fileViewer?0:-1)},dependencies:[Ie,Fe,ye,Se,Te,ke,T],styles:[`.c3-file-container{position:relative;width:100%;display:flex;justify-content:center;align-items:center;overflow:hidden}
`],encapsulation:2})}}return t})();var Ae=(()=>{class t{constructor(e){this.fileViewer=e}static{this.\u0275fac=function(i){return new(i||t)(V(xe))}}static{this.\u0275cmp=b({type:t,selectors:[["ng-component"]],standalone:!1,decls:1,vars:2,consts:[[3,"fileViewer","screenHeightOccupied"]],template:function(i,o){i&1&&C(0,"c3-file-viewer",0),i&2&&g("fileViewer",o.fileViewer)("screenHeightOccupied",0)},dependencies:[Me],encapsulation:2})}}return t})();var St=["*"],ri=(()=>{class t{constructor(e){this._dialog=e,this.dialogConfig={panelClass:"c3-file-viewer-dialog",width:"80%",height:"80%"}}openDialog(){this._dialog.open(Ae,x({data:this.fileViewer},this.dialogConfig))}static{this.\u0275fac=function(i){return new(i||t)(V(Ve))}}static{this.\u0275cmp=b({type:t,selectors:[["c3-file-viewer-dialog"]],hostAttrs:[1,"c3-file-viewer-dialog"],hostBindings:function(i,o){i&1&&p("click",function(){return o.openDialog()})},inputs:{fileViewer:"fileViewer",dialogConfig:"dialogConfig"},standalone:!1,ngContentSelectors:St,decls:1,vars:0,template:function(i,o){i&1&&(ae(),ce(0))},encapsulation:2})}}return t})();var j={btnContainerClass:"btn-container",btnClass:"default",btnSubClass:"material-icons",zoomFactor:.1,containerBackgroundColor:"#00000000",wheelZoom:!1,allowFullscreen:!0,allowKeyboardNavigation:!0,btnShow:{zoomIn:!0,zoomOut:!0,rotateClockwise:!0,rotateCounterClockwise:!0,next:!0,prev:!0,reset:!0,download:!0},btnIcons:{zoomIn:{text:"zoom_in"},zoomOut:{text:"zoom_out"},rotateClockwise:{text:"rotate_right"},rotateCounterClockwise:{text:"rotate_left"},fullscreen:{text:"fullscreen"},reset:{text:"restore"},download:{text:"download"}}};var H=class{constructor(n,e){this.name=n,this.fileUrl=e}};var Tt=["application/pdf","image/jpeg","image/png","image/gif","image/svg+xml","image/webp","image/avif","image/bmp","image/x-icon","video/mp4","video/webm","video/ogg"];function De(t){return Tt.includes(t)}var Ee=class{get config(){return this._config}set config(n){this._config=this.mergeConfig(j,n),this.config$.next(this._config)}get currentFile(){return this.filesObjectUrl[this.currentIndex]}set files(n){this._files=n,this.currentIndex=0,this.index$.next(this.currentIndex);for(let e of n)if(this.filesObjectUrl.push(N(x({},e),{objectUrl:e.objectUrl||this.createObjectURL(e)})),e.alternativeVersions)for(let i of e.alternativeVersions)this.filesObjectUrl.push(N(x(x({},e),i),{objectUrl:this.createObjectURL(i)}))}get files(){return this._files}constructor({config:n,files:e,client:i}){this._config=j,this.config$=new k(j),this.fullscreen$=new k(!1),this.customFile$=new k(null),this.index$=new k(0),this.loading=!0,this.currentIndex=0,this.style={transform:"",msTransform:"",oTransform:"",webkitTransform:"",minHeight:"auto",maxHeight:"auto",height:"auto",minWidth:"auto",maxWidth:"auto",width:"auto"},this.styleHeight="100%",this.hovered=!1,this._files=[],this.filesObjectUrl=[],this.locationBlobMap=new Map,this.scale=1,this.rotation=0,this.translateX=0,this.translateY=0,this.prevX=0,this.prevY=0,n&&(this.config=n),i&&(this.client=i.get.bind(i)),e&&(this.files=e),this.config$.subscribe(o=>{let{minHeight:f,maxHeight:A,minWidth:ze,maxWidth:Oe,height:R,width:Ue}=o;this.style.minHeight=this.valueToCss(f),this.style.height=this.valueToCss(R),this.style.width=this.valueToCss(Ue),this.style.maxHeight=this.valueToCss(A),this.style.minWidth=this.valueToCss(ze),this.style.maxWidth=this.valueToCss(Oe),this.styleHeight=this.valueToCss(R),this.updateStyle()})}createObjectURL(n){this.onLoadStart();let e=kt(n)?n.type:n.contentType;if(!De(e)){this.onLoaded();return}return B(n.location).pipe(Y(i=>this.locationBlobMap.has(i)?B(this.locationBlobMap.get(i)):this.getFile(i).pipe(W(o=>URL.createObjectURL(o)),L(o=>this.locationBlobMap.set(i,o)))),L(()=>this.onLoaded()))}getFile(n){let e=this.config.customClient||this.client;if(!e)throw new Error("No http client provided. Please provide a custom client or import HttpClientModule");return e(n,{responseType:"blob"})}previousImage(n){this.canNavigate(n)&&(this.loading=!0,this.currentIndex>0?this.currentIndex--:this.currentIndex=this.files.length-1,this.index$.next(this.currentIndex),this.reset())}nextImage(n){this.canNavigate(n)&&(this.loading=!0,this.currentIndex<this.files.length-1?this.currentIndex++:this.currentIndex=0,this.index$.next(this.currentIndex),this.reset())}zoomIn(){this.scale*=1+(this.config.zoomFactor||0),this.updateStyle()}zoomOut(){this.scale>(this.config.zoomFactor||0)&&(this.scale/=1+(this.config.zoomFactor||0)),this.updateStyle()}scrollZoom(n){return this.config.wheelZoom?(n.deltaY>0?this.zoomOut():this.zoomIn(),!1):!0}rotateClockwise(){this.rotation+=90,this.updateStyle()}rotateCounterClockwise(){this.rotation-=90,this.updateStyle()}onLoaded(){this.loading=!1}onLoadStart(){this.loading=!0}imageNotFound(n){this.loading=!1,this.customFile$.next(new H("imageNotFound",n.location))}onDragOver(n){this.translateX+=n.clientX-this.prevX,this.translateY+=n.clientY-this.prevY,this.prevX=n.clientX,this.prevY=n.clientY,this.updateStyle()}onDragStart(n){if(n.target&&n.dataTransfer&&n.dataTransfer.setDragImage){let i=n.target.nextElementSibling;i&&n.dataTransfer.setDragImage(i,0,0)}this.prevX=n.clientX,this.prevY=n.clientY}toggleFullscreen(){let n=this.fullscreen$.getValue();this.fullscreen$.next(!n),n&&this.reset()}reset(){this.scale=1,this.rotation=0,this.translateX=0,this.translateY=0,this.updateStyle()}getOriginalName(n=this.currentFile){return n.metadata?.originalName||n.name}canNavigate(n){return n==null||this.config.allowKeyboardNavigation&&this.hovered}updateStyle(){this.style.transform=`translate(${this.translateX}px, ${this.translateY}px) rotate(${this.rotation}deg) scale(${this.scale})`,this.style.msTransform=this.style.transform,this.style.webkitTransform=this.style.transform,this.style.oTransform=this.style.transform}valueToCss(n){return n?typeof n=="string"?n:n+"px":"auto"}mergeConfig(n,e){let i=x({},n);return e&&(i=x(x({},n),e),e.btnIcons&&(i.btnIcons=x(x({},n.btnIcons),e.btnIcons))),i}download(n=this.currentFile){let e=this.config.customClient||this.client,i=this.getOriginalName();if(n.objectUrl&&this.locationBlobMap.has(n.location)){let o=this.locationBlobMap.get(n.location);this.downloadFromUrl(o,i)}else e?this.downloadWithClient(n,e,i):console.error("No http client available for download")}downloadFromUrl(n,e){let i=document.createElement("a");i.href=n,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}downloadWithClient(n,e,i){e(n.location,{responseType:"blob"}).subscribe({next:o=>{let f=URL.createObjectURL(o);this.downloadFromUrl(f,i),setTimeout(()=>{URL.revokeObjectURL(f)},1e3)},error:o=>{console.error("Download failed:",o);let f=document.createElement("a");f.href=n.location,f.download=i,f.target="_blank",f.click()}})}};function kt(t){return"type"in t}var vi=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=ee({type:t})}static{this.\u0275inj=G({providers:[de(Ce())],imports:[pe,ve,he,we]})}}return t})();var Fi=[{name:"123645-Crabby - 1",metadata:{originalName:"Crabby - 1"},type:"image/png",location:"img/crabby-1.png",lastModified:new Date},{name:"123645-Crabby - 2",metadata:{originalName:"Crabby - 2"},type:"image/jpeg",location:"img/crabby-2.jpeg",lastModified:new Date},{name:"123645-Crabby - 3",metadata:{originalName:"Crabby - 3"},type:"image/png",location:"img/crabby-3.png",lastModified:new Date},{name:"123645-Crabby - 4",metadata:{originalName:"Crabby - 4"},type:"image/png",location:"img/crabby-4.png",lastModified:new Date},{name:"123645-Crabby - 5",metadata:{originalName:"Crabby - 5"},type:"image/png",location:"img/crabby-5.png"},{name:"123645-Crabby - 6",metadata:{originalName:"Crabby - 6"},type:"image/png",location:"img/crabby-6.png"},{name:"123645-PDF",metadata:{originalName:"PDF.pdf"},type:"application/pdf",location:"img/r.pdf"},{location:"zip/test.zip",type:"application/zip",name:"chelou-test.zip",metadata:{originalName:"test.zip"}},{location:"video/Crabe_ZZ_Top.mp4",type:"video/mp4",name:"Crabe_ZZ_Top.mp4",metadata:{originalName:"Crabe_ZZ_Top.mp4"}},{location:"https://upload.wikimedia.org/wikipedia/commons/7/79/Terminator_in_Madame_Tussaud_London_%2833465711484%29.jpg",type:"image/jpeg",name:"Terminator_in_Madame_Tussaud_London.jpg",metadata:{originalName:"Terminator_in_Madame_Tussaud_London.jpg"}}],yi={btnContainerClass:"other",btnClass:"btn btn-hover-primary px-1",btnSubClass:"material-icons font-size-xl",zoomFactor:.1,wheelZoom:!0,allowFullscreen:!0,allowKeyboardNavigation:!0,height:"640px",btnShow:{zoomIn:!0,zoomOut:!0,rotateClockwise:!0,rotateCounterClockwise:!0,next:!1,prev:!1,reset:!0,download:!0},btnIcons:{next:{text:"navigate_next"},prev:{text:"navigate_before"}},customBtns:[]};export{Me as a,ri as b,Ee as c,vi as d,Fi as e,yi as f};
