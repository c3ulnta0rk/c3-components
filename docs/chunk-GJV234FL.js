import{b as _e,c as ge,h as de}from"./chunk-K4MW6TQJ.js";import{a as fe,b as pe,c as ue,g as me}from"./chunk-ZKGLAAME.js";import{$c as ce,Bb as C,Db as s,Eb as B,Fa as F,Gb as oe,H,Hb as a,Ka as ne,L as Z,Nb as f,Ob as p,Pb as g,Qb as I,Rb as V,Tb as d,Vb as u,Wb as l,Xb as re,Y as G,Yb as le,Zc as se,_c as A,a as v,aa as O,b as Y,bb as j,bd as E,cb as ie,dd as ae,eb as R,fa as K,gb as r,gc as h,hb as x,hc as b,o as X,oa as w,oc as S,p as k,pa as J,pc as T,qa as Q,ra as ee,t as L,x as q,xa as te,ya as m,z as D,za as _}from"./chunk-VGXVW5OM.js";var Ce=(()=>{let t=class t{set fullscreenState(i){this._fullscreenState.next(i?.valueOf()||!1)}set fullscreenStateSetter(i){this.fullscreenState=i}constructor(i){this.el=i,this._fullscreenState=new k(!1),this._fullscreenState.pipe(H(o=>o!==null),G(2),Z(100)).subscribe(()=>{this.defineState()})}defineState(){if(this._fullscreenState.getValue()){let i=this.el.nativeElement,o=i.requestFullscreen||i.webkitRequestFullScreen||i.mozRequestFullScreen||i.msRequestFullScreen;o?o.call(i):console.log("FullScreen Request Method Not Supported on this browser.")}else{let i=document,o=i.cancelFullscreen||i.webkitExitFullscreen||i.webkitCancelFullScreen||i.mozCancelFullScreen||i.msExitFullScreen;o?o.call(i):console.log("FullScreen Cancel Request Method Not Supported on this browser.")}}};t.\u0275fac=function(o){return new(o||t)(x(ne))},t.\u0275dir=Q({type:t,selectors:[["","C3FullScreen",""],["","c3-full-screen",""]],inputs:{fullscreenState:[0,"c3Screenfull","fullscreenState"],fullscreenStateSetter:[0,"c3-full-screen","fullscreenStateSetter"]}});let n=t;return n})();function ke(n,t){if(n&1&&g(0,"span"),n&2){let e=l(2);a(e.config.btnIcons==null||e.config.btnIcons.prev==null?null:e.config.btnIcons.prev.classes)}}function Me(n,t){if(n&1){let e=d();f(0,"button",4),u("click",function(o){m(e);let c=l();return _(c.fileViewer.previousImage(o))}),C(1,ke,1,2,"span",5),p()}if(n&2){let e=l();a(e.config.btnClass),s("disabled",e.fileViewer.currentIndex===0),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.prev==null?null:e.config.btnIcons.prev.classes)}}function Ae(n,t){if(n&1){let e=d();f(0,"a",6),u("click",function(o){m(e);let c=l();return _(c.fileViewer.previousImage(o))}),f(1,"span"),h(2),p()()}if(n&2){let e=l();a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),b(e.config.btnIcons==null||e.config.btnIcons.prev==null?null:e.config.btnIcons.prev.text)}}function Ee(n,t){if(n&1&&g(0,"span"),n&2){let e=l(2);a(e.config.btnIcons==null||e.config.btnIcons.next==null?null:e.config.btnIcons.next.classes)}}function ze(n,t){if(n&1){let e=d();f(0,"button",4),u("click",function(o){m(e);let c=l();return _(c.fileViewer.nextImage(o))}),C(1,Ee,1,2,"span",5),p()}if(n&2){let e=l();a(e.config.btnClass),s("disabled",e.fileViewer.currentIndex===e.fileViewer.files.length-1),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.next==null?null:e.config.btnIcons.next.classes)}}function Oe(n,t){if(n&1){let e=d();f(0,"a",6),u("click",function(o){m(e);let c=l();return _(c.fileViewer.nextImage(o))}),f(1,"span"),h(2),p()()}if(n&2){let e=l();a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),b(e.config.btnIcons==null||e.config.btnIcons.next==null?null:e.config.btnIcons.next.text)}}function De(n,t){if(n&1){let e=d();f(0,"button",11),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.rotateCounterClockwise())}),g(1,"span"),p()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.classes)}}function He(n,t){if(n&1){let e=d();f(0,"a",6),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.rotateCounterClockwise())}),f(1,"span"),h(2),p()()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),b(e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.text)}}function je(n,t){if(n&1&&(I(0),C(1,De,2,4,"button",10)(2,He,3,5,"a",2),V()),n&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.text)}}function Be(n,t){if(n&1){let e=d();f(0,"button",11),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.rotateClockwise())}),g(1,"span"),p()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.classes)}}function Ue(n,t){if(n&1){let e=d();f(0,"a",6),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.rotateClockwise())}),f(1,"span"),h(2),p()()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),b(e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.text)}}function $e(n,t){if(n&1&&(I(0),C(1,Be,2,4,"button",10)(2,Ue,3,5,"a",2),V()),n&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.text)}}function Ne(n,t){if(n&1){let e=d();f(0,"button",11),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.zoomOut())}),g(1,"span"),p()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.classes)}}function Le(n,t){if(n&1){let e=d();f(0,"a",6),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.zoomOut())}),f(1,"span"),h(2),p()()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),b(e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.text)}}function Re(n,t){if(n&1&&(I(0),C(1,Ne,2,4,"button",10)(2,Le,3,5,"a",2),V()),n&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.text)}}function We(n,t){if(n&1){let e=d();f(0,"button",11),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.zoomIn())}),g(1,"span"),p()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.classes)}}function Pe(n,t){if(n&1){let e=d();f(0,"a",6),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.zoomIn())}),f(1,"span"),h(2),p()()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),b(e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.text)}}function Ye(n,t){if(n&1&&(I(0),C(1,We,2,4,"button",10)(2,Pe,3,5,"a",2),V()),n&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.text)}}function Xe(n,t){if(n&1){let e=d();f(0,"button",11),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.toggleFullscreen())}),g(1,"span"),p()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.classes)}}function qe(n,t){if(n&1){let e=d();f(0,"a",6),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.toggleFullscreen())}),f(1,"span"),h(2),p()()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),b(e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.text)}}function Ze(n,t){if(n&1&&(I(0),C(1,Xe,2,4,"button",10)(2,qe,3,5,"a",2),V()),n&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.text)}}function Ge(n,t){if(n&1){let e=d();f(0,"button",11),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.reset())}),g(1,"span"),p()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.classes)}}function Ke(n,t){if(n&1){let e=d();f(0,"a",6),u("click",function(){m(e);let o=l(3);return _(o.fileViewer.reset())}),f(1,"span"),h(2),p()()}if(n&2){let e=l(3);a(e.config.btnClass),r(),a(e.config.btnSubClass),r(),b(e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.text)}}function Je(n,t){if(n&1&&(I(0),C(1,Ge,2,4,"button",10)(2,Ke,3,5,"a",2),V()),n&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.text)}}function Qe(n,t){if(n&1&&g(0,"span"),n&2){let e=l(2).$implicit;a(e.icon.classes)}}function et(n,t){if(n&1&&(f(0,"button",13),C(1,Qe,1,2,"span",5),p()),n&2){let e=l().$implicit,i=l(2);a(i.config.btnClass),r(),s("ngIf",e.icon.classes)}}function tt(n,t){if(n&1&&(f(0,"a")(1,"span"),h(2),p()()),n&2){let e=l(2).$implicit,i=l(2);a(i.config.btnClass),r(),a(i.config.btnSubClass),r(),b(e.icon.text)}}function nt(n,t){if(n&1&&(I(0),C(1,tt,3,5,"a",5),V()),n&2){let e=l().$implicit;r(),s("ngIf",e.icon.text)}}function it(n,t){if(n&1&&(I(0),C(1,et,2,3,"button",12)(2,nt,2,1,"ng-container",8),V()),n&2){let e=t.$implicit;r(),s("ngIf",e.icon.classes),r(),s("ngIf",e.icon.text)}}function ot(n,t){if(n&1&&(f(0,"div",7),C(1,je,3,2,"ng-container",8)(2,$e,3,2,"ng-container",8)(3,Re,3,2,"ng-container",8)(4,Ye,3,2,"ng-container",8)(5,Ze,3,2,"ng-container",8)(6,Je,3,2,"ng-container",8)(7,it,3,2,"ng-container",9),p()),n&2){let e=l();a(e.config.btnContainerClass),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.rotateCounterClockwise),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.rotateClockwise),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.zoomOut),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.zoomIn),r(),s("ngIf",e.config.allowFullscreen),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.reset),r(),s("ngForOf",e.config.customBtns)}}var we=(()=>{let t=class t{get config(){return this.fileViewer.config}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-actions"]],inputs:{fileViewer:"fileViewer"},decls:6,vars:5,consts:[[1,"nav-button-container"],["type","button",3,"class","disabled","click",4,"ngIf"],[3,"class","click",4,"ngIf"],["class","btn-container",3,"class",4,"ngIf"],["type","button",3,"click","disabled"],[3,"class",4,"ngIf"],[3,"click"],[1,"btn-container"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],["type","button",3,"class",4,"ngIf"],["type","button"]],template:function(o,c){o&1&&(f(0,"div",0),C(1,Me,2,4,"button",1)(2,Ae,3,5,"a",2)(3,ze,2,4,"button",1)(4,Oe,3,5,"a",2),p(),C(5,ot,8,9,"div",3)),o&2&&(r(),s("ngIf",c.config.btnShow==null?null:c.config.btnShow.prev),r(),s("ngIf",c.config.btnIcons==null||c.config.btnIcons.prev==null?null:c.config.btnIcons.prev.text),r(),s("ngIf",c.config.btnShow==null?null:c.config.btnShow.next),r(),s("ngIf",c.config.btnIcons==null||c.config.btnIcons.next==null?null:c.config.btnIcons.next.text),r(),s("ngIf",c.fileViewer.currentFile.type.startsWith("image")))},dependencies:[se,A],encapsulation:2});let n=t;return n})();var U=(()=>{let t=class t{constructor(i){this.sanitizer=i}transform(i){return i?this.sanitizer.bypassSecurityTrustResourceUrl(i):""}};t.\u0275fac=function(o){return new(o||t)(x(me,16))},t.\u0275pipe=ee({name:"c3SafeUrl",type:t,pure:!0,standalone:!0});let n=t;return n})();function lt(n,t){if(n&1){let e=d();f(0,"img",1),S(1,"async"),S(2,"c3SafeUrl"),u("dragstart",function(o){m(e);let c=l();return _(c.dragstart.emit(o))}),p()}if(n&2){let e=l();s("src",T(2,4,T(1,2,e.fileViewer.currentFile.objectUrl)),j)("ngStyle",e.fileViewer.style)}}var he=(()=>{let t=class t{constructor(){this.dragstart=new F}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-image"],["","c3-file-viewer-image",""]],inputs:{fileViewer:"fileViewer"},outputs:{dragstart:"dragstart"},decls:1,vars:1,consts:[["alt","Image not found...",3,"src","ngStyle","dragstart",4,"ngIf"],["alt","Image not found...",3,"dragstart","src","ngStyle"]],template:function(o,c){o&1&&C(0,lt,3,6,"img",0),o&2&&s("ngIf",c.fileViewer.currentFile.objectUrl)},dependencies:[A,ce,E,U],encapsulation:2});let n=t;return n})();var be=(()=>{let t=class t{constructor(){this.dragstart=new F}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-pdf"]],hostAttrs:[1,"c3-file-viewer-pdf",2,"display","block"],inputs:{fileViewer:"fileViewer"},outputs:{dragstart:"dragstart"},decls:3,vars:9,consts:[["type","application/pdf",3,"src"]],template:function(o,c){o&1&&(g(0,"embed",0),S(1,"async"),S(2,"c3SafeUrl")),o&2&&(B("height","100%")("width","100%"),s("src",T(2,7,T(1,5,c.fileViewer.currentFile.objectUrl)),ie))},dependencies:[E,U],encapsulation:2});let n=t;return n})();var ve=(()=>{let t=class t{set _srcUpdated({location:i}){this.src$.next(i)}constructor(){this.src="",this.src$=new X,this.src$.pipe(D(i=>this.fileViewer.getFile(i)),H(i=>i.type.startsWith("application/pdf")),O(i=>this.src=URL.createObjectURL(i))).subscribe({next:()=>null,error:i=>{console.log(i)}})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-video"]],inputs:{_srcUpdated:[0,"file","_srcUpdated"],fileViewer:"fileViewer"},decls:1,vars:1,consts:[["controls","","crossorigin","*",3,"src"]],template:function(o,c){o&1&&g(0,"video",0),o&2&&s("src",c.src,j)},encapsulation:2});let n=t;return n})();function ft(n,t){if(n&1){let e=d();f(0,"c3-file-viewer-image",7),u("dragstart",function(o){m(e);let c=l(2);return _(c.fileViewer.onDragStart(o))}),p()}if(n&2){let e=l(2);oe(e.fileViewer.style),s("fileViewer",e.fileViewer)}}function pt(n,t){n&1&&g(0,"c3-file-viewer-video")}function ut(n,t){if(n&1&&g(0,"c3-file-viewer-pdf",6),n&2){let e=l(2);s("fileViewer",e.fileViewer)}}function mt(n,t){n&1&&(f(0,"div",8),g(1,"div",9),p())}function _t(n,t){if(n&1){let e=d();f(0,"div",1),S(1,"async"),u("wheel",function(o){m(e);let c=l();return _(c.fileViewer.scrollZoom(o))})("dragover",function(o){m(e);let c=l();return _(c.fileViewer.onDragOver(o))}),C(2,ft,1,3,"c3-file-viewer-image",2)(3,pt,1,0,"c3-file-viewer-video",3)(4,ut,1,1,"c3-file-viewer-pdf",4),g(5,"div"),C(6,mt,2,0,"div",5),g(7,"c3-file-viewer-actions",6),p()}if(n&2){let e=l();B("height",e.fileViewer.styleHeight)("background-color",e.fileViewer.config.containerBackgroundColor),s("c3-full-screen",T(1,10,e.fileViewer.fullscreen$)),r(2),s("ngIf",e.fileViewer.currentFile.type.startsWith("image")),r(),s("ngIf",e.fileViewer.currentFile.type.startsWith("video")),r(),s("ngIf",e.fileViewer.currentFile.type.startsWith("application/pdf")),r(2),s("ngIf",e.fileViewer.loading),r(),s("fileViewer",e.fileViewer)}}var Ie=(()=>{let t=class t{constructor(i,o){this.moduleConfig=i,this._http=o,this.indexChange=new F,this.configChange=new F,this.customFileEvent=new F}ngOnInit(){this.defineStyleHeight(),this.fileViewer.customFile$.subscribe(i=>{this.customFileEvent.emit(i)}),this.fileViewer.index$.subscribe(i=>{this.indexChange.emit(i)}),this.fileViewer.config$.subscribe(i=>{this.configChange.emit(i)})}onMouseOver(){this.fileViewer&&(this.fileViewer.hovered=!0)}onMouseLeave(){this.fileViewer&&(this.fileViewer.hovered=!1)}ngOnChanges(i){i.screenHeightOccupied&&this.fileViewer&&this.defineStyleHeight()}next(i){this.fileViewer.nextImage(i)}previous(i){this.fileViewer.previousImage(i)}defineStyleHeight(){this.fileViewer.styleHeight="calc(100% - "+this.screenHeightOccupied+"px)"}};t.\u0275fac=function(o){return new(o||t)(x("config",8),x(fe))},t.\u0275cmp=w({type:t,selectors:[["c3-file-viewer"]],hostAttrs:[1,"c3-file-viewer"],hostBindings:function(o,c){o&1&&u("mouseover",function(){return c.onMouseOver()})("mouseleave",function(){return c.onMouseLeave()})("keyup.ArrowRight",function(z){return c.next(z)},!1,R)("keyup.ArrowLeft",function(z){return c.previous(z)},!1,R)},inputs:{screenHeightOccupied:"screenHeightOccupied",fileViewer:"fileViewer"},outputs:{indexChange:"indexChange",configChange:"configChange",customFileEvent:"customFileEvent"},features:[te],decls:1,vars:1,consts:[["class","container",3,"c3-full-screen","height","backgroundColor","wheel","dragover",4,"ngIf"],[1,"container",3,"wheel","dragover","c3-full-screen"],[3,"fileViewer","style","dragstart",4,"ngIf"],[4,"ngIf"],[3,"fileViewer",4,"ngIf"],["class","spinner-container",4,"ngIf"],[3,"fileViewer"],[3,"dragstart","fileViewer"],[1,"spinner-container"],[1,"spinner"]],template:function(o,c){o&1&&C(0,_t,8,12,"div",0),o&2&&s("ngIf",c.fileViewer)},dependencies:[A,Ce,we,he,be,ve,E],encapsulation:2});let n=t;return n})();var Ve=(()=>{let t=class t{constructor(i){this.fileViewer=i}};t.\u0275fac=function(o){return new(o||t)(x(_e))},t.\u0275cmp=w({type:t,selectors:[["ng-component"]],decls:1,vars:2,consts:[[3,"fileViewer","screenHeightOccupied"]],template:function(o,c){o&1&&g(0,"c3-file-viewer",0),o&2&&s("fileViewer",c.fileViewer)("screenHeightOccupied",0)},dependencies:[Ie],encapsulation:2});let n=t;return n})();var dt=["*"],Lt=(()=>{let t=class t{constructor(i){this._dialog=i,this.dialogConfig={panelClass:"c3-file-viewer-dialog",width:"80%",height:"80%"}}openDialog(){this._dialog.open(Ve,v({data:this.fileViewer},this.dialogConfig))}};t.\u0275fac=function(o){return new(o||t)(x(ge))},t.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-dialog"]],hostAttrs:[1,"c3-file-viewer-dialog"],hostBindings:function(o,c){o&1&&u("click",function(){return c.openDialog()})},inputs:{fileViewer:"fileViewer",dialogConfig:"dialogConfig"},ngContentSelectors:dt,decls:1,vars:0,template:function(o,c){o&1&&(re(),le(0))},encapsulation:2});let n=t;return n})();var $={btnContainerClass:"btn-container",btnClass:"default",btnSubClass:"material-icons",zoomFactor:.1,containerBackgroundColor:"#00000000",wheelZoom:!1,allowFullscreen:!0,allowKeyboardNavigation:!0,btnShow:{zoomIn:!0,zoomOut:!0,rotateClockwise:!0,rotateCounterClockwise:!0,next:!0,prev:!0,reset:!0},btnIcons:{zoomIn:{text:"zoom_in"},zoomOut:{text:"zoom_out"},rotateClockwise:{text:"rotate_right"},rotateCounterClockwise:{text:"rotate_left"},fullscreen:{text:"fullscreen"},reset:{text:"restore"}}};var N=class{constructor(t,e){this.name=t,this.fileUrl=e}};var ye=class{get config(){return this._config}set config(t){this._config=this.mergeConfig($,t),this.config$.next(this._config)}get currentFile(){return this.filesObjectUrl[this.currentIndex]}set files(t){this._files=t,this.currentIndex=0,this.index$.next(this.currentIndex),this.filesObjectUrl=t.map(e=>{let i=e.objectUrl||this.createObjectURL(e);return Y(v({},e),{objectUrl:i})})}get files(){return this._files}constructor({config:t,files:e,client:i}){this._config=$,this.config$=new k($),this.fullscreen$=new k(!1),this.customFile$=new k(null),this.index$=new k(0),this.loading=!0,this.currentIndex=0,this.style={transform:"",msTransform:"",oTransform:"",webkitTransform:"",minHeight:"auto",maxHeight:"auto",height:"auto",minWidth:"auto",maxWidth:"auto",width:"auto"},this.styleHeight="100%",this.hovered=!1,this._files=[],this.filesObjectUrl=[],this.locationBlobMap=new Map,this.scale=1,this.rotation=0,this.translateX=0,this.translateY=0,this.prevX=0,this.prevY=0,t&&(this.config=t),i&&(this.client=i.get.bind(i)),e&&(this.files=e),this.config$.subscribe(o=>{let{minHeight:c,maxHeight:M,minWidth:z,maxWidth:Fe,height:P,width:Se}=o;this.style.minHeight=this.valueToCss(c),this.style.height=this.valueToCss(P),this.style.width=this.valueToCss(Se),this.style.maxHeight=this.valueToCss(M),this.style.minWidth=this.valueToCss(z),this.style.maxWidth=this.valueToCss(Fe),this.styleHeight=this.valueToCss(P),this.updateStyle()})}createObjectURL(t){return this.onLoadStart(t),L(t.location).pipe(D(e=>this.locationBlobMap.has(e)?L(this.locationBlobMap.get(e)):this.getFile(e).pipe(q(i=>URL.createObjectURL(i)),O(i=>this.locationBlobMap.set(e,i)))),O(()=>this.onLoad(t)))}getFile(t){let e=this.config.customClient||this.client;if(!e)throw new Error("No http client provided. Please provide a custom client or import HttpClientModule");return e(t,{responseType:"blob"})}previousImage(t){this.canNavigate(t)&&(this.loading=!0,this.currentIndex>0?this.currentIndex--:this.currentIndex=this.files.length-1,this.index$.next(this.currentIndex),this.reset())}nextImage(t){this.canNavigate(t)&&(this.loading=!0,this.currentIndex<this.files.length-1?this.currentIndex++:this.currentIndex=0,this.index$.next(this.currentIndex),this.reset())}zoomIn(){this.scale*=1+(this.config.zoomFactor||0),this.updateStyle()}zoomOut(){this.scale>(this.config.zoomFactor||0)&&(this.scale/=1+(this.config.zoomFactor||0)),this.updateStyle()}scrollZoom(t){return this.config.wheelZoom?(t.deltaY>0?this.zoomOut():this.zoomIn(),!1):!0}rotateClockwise(){this.rotation+=90,this.updateStyle()}rotateCounterClockwise(){this.rotation-=90,this.updateStyle()}onLoad(t){this.loading=!1}onLoadStart(t){this.loading=!0}imageNotFound(t){this.loading=!1,this.customFile$.next(new N("imageNotFound",t.location))}onDragOver(t){this.translateX+=t.clientX-this.prevX,this.translateY+=t.clientY-this.prevY,this.prevX=t.clientX,this.prevY=t.clientY,this.updateStyle()}onDragStart(t){if(t.target&&t.dataTransfer&&t.dataTransfer.setDragImage){let i=t.target.nextElementSibling;i&&t.dataTransfer.setDragImage(i,0,0)}this.prevX=t.clientX,this.prevY=t.clientY}toggleFullscreen(){let t=this.fullscreen$.getValue();this.fullscreen$.next(!t),t&&this.reset()}reset(){this.scale=1,this.rotation=0,this.translateX=0,this.translateY=0,this.updateStyle()}canNavigate(t){return t==null||this.config.allowKeyboardNavigation&&this.hovered}updateStyle(){this.style.transform=`translate(${this.translateX}px, ${this.translateY}px) rotate(${this.rotation}deg) scale(${this.scale})`,this.style.msTransform=this.style.transform,this.style.webkitTransform=this.style.transform,this.style.oTransform=this.style.transform}valueToCss(t){return t?typeof t=="string"?t:t+"px":"auto"}mergeConfig(t,e){let i=v({},t);return e&&(i=v(v({},t),e),e.btnIcons&&(i.btnIcons=v(v({},t.btnIcons),e.btnIcons))),i}};var tn=(()=>{let t=class t{};t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=J({type:t}),t.\u0275inj=K({providers:[pe(ue())],imports:[ae,de]});let n=t;return n})();var on=[{name:"Crabby - 1",type:"image/png",location:"img/crabby-1.png",lastModified:new Date},{name:"Crabby - 2",type:"image/jpeg",location:"img/crabby-2.jpeg",lastModified:new Date},{name:"Crabby - 3",type:"image/png",location:"img/crabby-3.png",lastModified:new Date},{name:"Crabby - 4",type:"image/png",location:"img/crabby-4.png",lastModified:new Date},{name:"Crabby - 5",type:"image/png",location:"img/crabby-5.png"},{name:"Crabby - 6",type:"image/png",location:"img/crabby-6.png"}],rn={btnContainerClass:"other",btnClass:"btn btn-hover-primary px-1",btnSubClass:"material-icons font-size-xl",zoomFactor:.1,wheelZoom:!0,allowFullscreen:!0,allowKeyboardNavigation:!0,height:"640px",btnShow:{zoomIn:!0,zoomOut:!0,rotateClockwise:!0,rotateCounterClockwise:!0,next:!1,prev:!1,reset:!0},btnIcons:{next:{text:"navigate_next"},prev:{text:"navigate_before"}},customBtns:[]};export{Ie as a,Lt as b,ye as c,tn as d,on as e,rn as f};
