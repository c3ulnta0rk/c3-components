import{b as me,c as _e,h as ge}from"./chunk-D3A2AZAB.js";import{a as ae,b as fe,c as pe,g as ue}from"./chunk-YIUEZFDD.js";import{$a as H,Aa as F,Bb as C,D as z,Fa as J,H as q,Mb as s,Nb as U,Pb as ie,Qb as c,U as Z,Wb as a,Xb as f,Y as D,Yb as g,Yc as le,Zb as I,Zc as M,_b as V,_c as se,a as b,ab as Q,ac as d,ad as A,b as $,ba as G,cb as P,cc as p,cd as ce,dc as l,eb as r,ec as oe,fb as h,fc as re,l as Y,m as k,p as L,pa as K,pc as x,qa as u,qc as v,ra as m,t as X,ub as w,v as O,vb as ee,wb as te,wc as S,xb as ne,xc as T}from"./chunk-ZUPD5GRW.js";var de=(()=>{class t{set fullscreenState(e){this._fullscreenState.next(e?.valueOf()||!1)}set fullscreenStateSetter(e){this.fullscreenState=e}constructor(e){this.el=e,this._fullscreenState=new k(!1),this._fullscreenState.pipe(z(n=>n!==null),Z(2),q(100)).subscribe(()=>{this.defineState()})}defineState(){if(this._fullscreenState.getValue()){let e=this.el.nativeElement,n=e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullScreen;n?n.call(e):console.log("FullScreen Request Method Not Supported on this browser.")}else{let e=document,n=e.cancelFullscreen||e.webkitExitFullscreen||e.webkitCancelFullScreen||e.mozCancelFullScreen||e.msExitFullScreen;n?n.call(e):console.log("FullScreen Cancel Request Method Not Supported on this browser.")}}static{this.\u0275fac=function(n){return new(n||t)(h(J))}}static{this.\u0275dir=te({type:t,selectors:[["","C3FullScreen",""],["","c3-full-screen",""]],inputs:{fullscreenState:[0,"c3Screenfull","fullscreenState"],fullscreenStateSetter:[0,"c3-full-screen","fullscreenStateSetter"]},standalone:!1})}}return t})();function ke(t,i){if(t&1&&g(0,"span"),t&2){let e=l(2);c(e.config.btnIcons==null||e.config.btnIcons.prev==null?null:e.config.btnIcons.prev.classes)}}function Me(t,i){if(t&1){let e=d();a(0,"button",4),p("click",function(o){u(e);let _=l();return m(_.fileViewer.previousImage(o))}),C(1,ke,1,2,"span",5),f()}if(t&2){let e=l();c(e.config.btnClass),s("disabled",e.fileViewer.currentIndex===0),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.prev==null?null:e.config.btnIcons.prev.classes)}}function Ae(t,i){if(t&1){let e=d();a(0,"a",6),p("click",function(o){u(e);let _=l();return m(_.fileViewer.previousImage(o))}),a(1,"span"),x(2),f()()}if(t&2){let e=l();c(e.config.btnClass),r(),c(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.prev==null?null:e.config.btnIcons.prev.text)}}function Ee(t,i){if(t&1&&g(0,"span"),t&2){let e=l(2);c(e.config.btnIcons==null||e.config.btnIcons.next==null?null:e.config.btnIcons.next.classes)}}function De(t,i){if(t&1){let e=d();a(0,"button",4),p("click",function(o){u(e);let _=l();return m(_.fileViewer.nextImage(o))}),C(1,Ee,1,2,"span",5),f()}if(t&2){let e=l();c(e.config.btnClass),s("disabled",e.fileViewer.currentIndex===e.fileViewer.files.length-1),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.next==null?null:e.config.btnIcons.next.classes)}}function Oe(t,i){if(t&1){let e=d();a(0,"a",6),p("click",function(o){u(e);let _=l();return m(_.fileViewer.nextImage(o))}),a(1,"span"),x(2),f()()}if(t&2){let e=l();c(e.config.btnClass),r(),c(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.next==null?null:e.config.btnIcons.next.text)}}function ze(t,i){if(t&1){let e=d();a(0,"button",11),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.rotateCounterClockwise())}),g(1,"span"),f()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.classes)}}function He(t,i){if(t&1){let e=d();a(0,"a",6),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.rotateCounterClockwise())}),a(1,"span"),x(2),f()()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.text)}}function Ue(t,i){if(t&1&&(I(0),C(1,ze,2,4,"button",10)(2,He,3,5,"a",2),V()),t&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateCounterClockwise==null?null:e.config.btnIcons.rotateCounterClockwise.text)}}function je(t,i){if(t&1){let e=d();a(0,"button",11),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.rotateClockwise())}),g(1,"span"),f()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.classes)}}function Be(t,i){if(t&1){let e=d();a(0,"a",6),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.rotateClockwise())}),a(1,"span"),x(2),f()()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.text)}}function Ne(t,i){if(t&1&&(I(0),C(1,je,2,4,"button",10)(2,Be,3,5,"a",2),V()),t&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.rotateClockwise==null?null:e.config.btnIcons.rotateClockwise.text)}}function $e(t,i){if(t&1){let e=d();a(0,"button",11),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.zoomOut())}),g(1,"span"),f()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.classes)}}function Le(t,i){if(t&1){let e=d();a(0,"a",6),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.zoomOut())}),a(1,"span"),x(2),f()()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.text)}}function Pe(t,i){if(t&1&&(I(0),C(1,$e,2,4,"button",10)(2,Le,3,5,"a",2),V()),t&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.zoomOut==null?null:e.config.btnIcons.zoomOut.text)}}function Re(t,i){if(t&1){let e=d();a(0,"button",11),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.zoomIn())}),g(1,"span"),f()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.classes)}}function We(t,i){if(t&1){let e=d();a(0,"a",6),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.zoomIn())}),a(1,"span"),x(2),f()()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.text)}}function Ye(t,i){if(t&1&&(I(0),C(1,Re,2,4,"button",10)(2,We,3,5,"a",2),V()),t&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.zoomIn==null?null:e.config.btnIcons.zoomIn.text)}}function Xe(t,i){if(t&1){let e=d();a(0,"button",11),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.toggleFullscreen())}),g(1,"span"),f()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.classes)}}function qe(t,i){if(t&1){let e=d();a(0,"a",6),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.toggleFullscreen())}),a(1,"span"),x(2),f()()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.text)}}function Ze(t,i){if(t&1&&(I(0),C(1,Xe,2,4,"button",10)(2,qe,3,5,"a",2),V()),t&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.fullscreen==null?null:e.config.btnIcons.fullscreen.text)}}function Ge(t,i){if(t&1){let e=d();a(0,"button",11),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.reset())}),g(1,"span"),f()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.classes)}}function Ke(t,i){if(t&1){let e=d();a(0,"a",6),p("click",function(){u(e);let o=l(3);return m(o.fileViewer.reset())}),a(1,"span"),x(2),f()()}if(t&2){let e=l(3);c(e.config.btnClass),r(),c(e.config.btnSubClass),r(),v(e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.text)}}function Je(t,i){if(t&1&&(I(0),C(1,Ge,2,4,"button",10)(2,Ke,3,5,"a",2),V()),t&2){let e=l(2);r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.classes),r(),s("ngIf",e.config.btnIcons==null||e.config.btnIcons.reset==null?null:e.config.btnIcons.reset.text)}}function Qe(t,i){if(t&1&&g(0,"span"),t&2){let e=l(2).$implicit;c(e.icon.classes)}}function et(t,i){if(t&1&&(a(0,"button",13),C(1,Qe,1,2,"span",5),f()),t&2){let e=l().$implicit,n=l(2);c(n.config.btnClass),r(),s("ngIf",e.icon.classes)}}function tt(t,i){if(t&1&&(a(0,"a")(1,"span"),x(2),f()()),t&2){let e=l(2).$implicit,n=l(2);c(n.config.btnClass),r(),c(n.config.btnSubClass),r(),v(e.icon.text)}}function nt(t,i){if(t&1&&(I(0),C(1,tt,3,5,"a",5),V()),t&2){let e=l().$implicit;r(),s("ngIf",e.icon.text)}}function it(t,i){if(t&1&&(I(0),C(1,et,2,3,"button",12)(2,nt,2,1,"ng-container",8),V()),t&2){let e=i.$implicit;r(),s("ngIf",e.icon.classes),r(),s("ngIf",e.icon.text)}}function ot(t,i){if(t&1&&(a(0,"div",7),C(1,Ue,3,2,"ng-container",8)(2,Ne,3,2,"ng-container",8)(3,Pe,3,2,"ng-container",8)(4,Ye,3,2,"ng-container",8)(5,Ze,3,2,"ng-container",8)(6,Je,3,2,"ng-container",8)(7,it,3,2,"ng-container",9),f()),t&2){let e=l();c(e.config.btnContainerClass),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.rotateCounterClockwise),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.rotateClockwise),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.zoomOut),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.zoomIn),r(),s("ngIf",e.config.allowFullscreen),r(),s("ngIf",e.config.btnShow==null?null:e.config.btnShow.reset),r(),s("ngForOf",e.config.customBtns)}}var Ce=(()=>{class t{get config(){return this.fileViewer.config}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-actions"]],inputs:{fileViewer:"fileViewer"},standalone:!1,decls:6,vars:5,consts:[[1,"nav-button-container"],["type","button",3,"class","disabled","click",4,"ngIf"],[3,"class","click",4,"ngIf"],["class","btn-container",3,"class",4,"ngIf"],["type","button",3,"click","disabled"],[3,"class",4,"ngIf"],[3,"click"],[1,"btn-container"],[4,"ngIf"],[4,"ngFor","ngForOf"],["type","button",3,"class","click",4,"ngIf"],["type","button",3,"click"],["type","button",3,"class",4,"ngIf"],["type","button"]],template:function(n,o){n&1&&(a(0,"div",0),C(1,Me,2,4,"button",1)(2,Ae,3,5,"a",2)(3,De,2,4,"button",1)(4,Oe,3,5,"a",2),f(),C(5,ot,8,9,"div",3)),n&2&&(r(),s("ngIf",o.config.btnShow==null?null:o.config.btnShow.prev),r(),s("ngIf",o.config.btnIcons==null||o.config.btnIcons.prev==null?null:o.config.btnIcons.prev.text),r(),s("ngIf",o.config.btnShow==null?null:o.config.btnShow.next),r(),s("ngIf",o.config.btnIcons==null||o.config.btnIcons.next==null?null:o.config.btnIcons.next.text),r(),s("ngIf",o.fileViewer.currentFile.type.startsWith("image")))},dependencies:[le,M],encapsulation:2})}}return t})();var j=(()=>{class t{constructor(e){this.sanitizer=e}transform(e){return e?this.sanitizer.bypassSecurityTrustResourceUrl(e):""}static{this.\u0275fac=function(n){return new(n||t)(h(ue,16))}}static{this.\u0275pipe=ne({name:"c3SafeUrl",type:t,pure:!0})}}return t})();function lt(t,i){if(t&1){let e=d();a(0,"img",1),S(1,"async"),S(2,"c3SafeUrl"),p("dragstart",function(o){u(e);let _=l();return m(_.dragstart.emit(o))}),f()}if(t&2){let e=l();s("src",T(2,4,T(1,2,e.fileViewer.currentFile.objectUrl)),H)("ngStyle",e.fileViewer.style)}}var be=(()=>{class t{constructor(){this.dragstart=new F}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-image"],["","c3-file-viewer-image",""]],inputs:{fileViewer:"fileViewer"},outputs:{dragstart:"dragstart"},standalone:!1,decls:1,vars:1,consts:[["alt","Image not found...",3,"src","ngStyle","dragstart",4,"ngIf"],["alt","Image not found...",3,"dragstart","src","ngStyle"]],template:function(n,o){n&1&&C(0,lt,3,6,"img",0),n&2&&s("ngIf",o.fileViewer.currentFile.objectUrl)},dependencies:[M,se,A,j],encapsulation:2})}}return t})();var he=(()=>{class t{constructor(){this.dragstart=new F}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-pdf"]],hostAttrs:[1,"c3-file-viewer-pdf",2,"display","block"],inputs:{fileViewer:"fileViewer"},outputs:{dragstart:"dragstart"},standalone:!1,decls:3,vars:9,consts:[["type","application/pdf",3,"src"]],template:function(n,o){n&1&&(g(0,"embed",0),S(1,"async"),S(2,"c3SafeUrl")),n&2&&(U("height","100%")("width","100%"),s("src",T(2,7,T(1,5,o.fileViewer.currentFile.objectUrl)),Q))},dependencies:[A,j],encapsulation:2})}}return t})();var xe=(()=>{class t{set _srcUpdated({location:e}){this.src$.next(e)}constructor(){this.src="",this.src$=new Y,this.src$.pipe(O(e=>this.fileViewer.getFile(e)),z(e=>e.type.startsWith("application/pdf")),D(e=>this.src=URL.createObjectURL(e))).subscribe({next:()=>null,error:e=>{console.log(e)}})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-video"]],inputs:{_srcUpdated:[0,"file","_srcUpdated"],fileViewer:"fileViewer"},standalone:!1,decls:1,vars:1,consts:[["controls","","crossorigin","*",3,"src"]],template:function(n,o){n&1&&g(0,"video",0),n&2&&s("src",o.src,H)},encapsulation:2})}}return t})();function ft(t,i){if(t&1){let e=d();a(0,"c3-file-viewer-image",7),p("dragstart",function(o){u(e);let _=l(2);return m(_.fileViewer.onDragStart(o))}),f()}if(t&2){let e=l(2);ie(e.fileViewer.style),s("fileViewer",e.fileViewer)}}function pt(t,i){t&1&&g(0,"c3-file-viewer-video")}function ut(t,i){if(t&1&&g(0,"c3-file-viewer-pdf",6),t&2){let e=l(2);s("fileViewer",e.fileViewer)}}function mt(t,i){t&1&&(a(0,"div",8),g(1,"div",9),f())}function _t(t,i){if(t&1){let e=d();a(0,"div",1),S(1,"async"),p("wheel",function(o){u(e);let _=l();return m(_.fileViewer.scrollZoom(o))})("dragover",function(o){u(e);let _=l();return m(_.fileViewer.onDragOver(o))}),C(2,ft,1,3,"c3-file-viewer-image",2)(3,pt,1,0,"c3-file-viewer-video",3)(4,ut,1,1,"c3-file-viewer-pdf",4),g(5,"div"),C(6,mt,2,0,"div",5),g(7,"c3-file-viewer-actions",6),f()}if(t&2){let e=l();U("height",e.fileViewer.styleHeight)("background-color",e.fileViewer.config.containerBackgroundColor),s("c3-full-screen",T(1,10,e.fileViewer.fullscreen$)),r(2),s("ngIf",e.fileViewer.currentFile.type.startsWith("image")),r(),s("ngIf",e.fileViewer.currentFile.type.startsWith("video")),r(),s("ngIf",e.fileViewer.currentFile.type.startsWith("application/pdf")),r(2),s("ngIf",e.fileViewer.loading),r(),s("fileViewer",e.fileViewer)}}var ve=(()=>{class t{constructor(e,n){this.moduleConfig=e,this._http=n,this.indexChange=new F,this.configChange=new F,this.customFileEvent=new F}ngOnInit(){this.defineStyleHeight(),this.fileViewer.customFile$.subscribe(e=>{this.customFileEvent.emit(e)}),this.fileViewer.index$.subscribe(e=>{this.indexChange.emit(e)}),this.fileViewer.config$.subscribe(e=>{this.configChange.emit(e)})}onMouseOver(){this.fileViewer&&(this.fileViewer.hovered=!0)}onMouseLeave(){this.fileViewer&&(this.fileViewer.hovered=!1)}ngOnChanges(e){e.screenHeightOccupied&&this.fileViewer&&this.defineStyleHeight()}next(e){this.fileViewer.nextImage(e)}previous(e){this.fileViewer.previousImage(e)}defineStyleHeight(){this.fileViewer.styleHeight="calc(100% - "+this.screenHeightOccupied+"px)"}static{this.\u0275fac=function(n){return new(n||t)(h("config",8),h(ae))}}static{this.\u0275cmp=w({type:t,selectors:[["c3-file-viewer"]],hostAttrs:[1,"c3-file-viewer"],hostBindings:function(n,o){n&1&&p("mouseover",function(){return o.onMouseOver()})("mouseleave",function(){return o.onMouseLeave()})("keyup.ArrowRight",function(E){return o.next(E)},!1,P)("keyup.ArrowLeft",function(E){return o.previous(E)},!1,P)},inputs:{screenHeightOccupied:"screenHeightOccupied",fileViewer:"fileViewer"},outputs:{indexChange:"indexChange",configChange:"configChange",customFileEvent:"customFileEvent"},standalone:!1,features:[K],decls:1,vars:1,consts:[["class","c3-file-container",3,"c3-full-screen","height","backgroundColor","wheel","dragover",4,"ngIf"],[1,"c3-file-container",3,"wheel","dragover","c3-full-screen"],[3,"fileViewer","style","dragstart",4,"ngIf"],[4,"ngIf"],[3,"fileViewer",4,"ngIf"],["class","spinner-container",4,"ngIf"],[3,"fileViewer"],[3,"dragstart","fileViewer"],[1,"spinner-container"],[1,"spinner"]],template:function(n,o){n&1&&C(0,_t,8,12,"div",0),n&2&&s("ngIf",o.fileViewer)},dependencies:[M,de,Ce,be,he,xe,A],styles:[`.c3-file-container{position:relative;width:100%;display:flex;justify-content:center;align-items:center;overflow:hidden}
`],encapsulation:2})}}return t})();var Ie=(()=>{class t{constructor(e){this.fileViewer=e}static{this.\u0275fac=function(n){return new(n||t)(h(me))}}static{this.\u0275cmp=w({type:t,selectors:[["ng-component"]],standalone:!1,decls:1,vars:2,consts:[[3,"fileViewer","screenHeightOccupied"]],template:function(n,o){n&1&&g(0,"c3-file-viewer",0),n&2&&s("fileViewer",o.fileViewer)("screenHeightOccupied",0)},dependencies:[ve],encapsulation:2})}}return t})();var dt=["*"],Lt=(()=>{class t{constructor(e){this._dialog=e,this.dialogConfig={panelClass:"c3-file-viewer-dialog",width:"80%",height:"80%"}}openDialog(){this._dialog.open(Ie,b({data:this.fileViewer},this.dialogConfig))}static{this.\u0275fac=function(n){return new(n||t)(h(_e))}}static{this.\u0275cmp=w({type:t,selectors:[["c3-file-viewer-dialog"]],hostAttrs:[1,"c3-file-viewer-dialog"],hostBindings:function(n,o){n&1&&p("click",function(){return o.openDialog()})},inputs:{fileViewer:"fileViewer",dialogConfig:"dialogConfig"},standalone:!1,ngContentSelectors:dt,decls:1,vars:0,template:function(n,o){n&1&&(oe(),re(0))},encapsulation:2})}}return t})();var B={btnContainerClass:"btn-container",btnClass:"default",btnSubClass:"material-icons",zoomFactor:.1,containerBackgroundColor:"#00000000",wheelZoom:!1,allowFullscreen:!0,allowKeyboardNavigation:!0,btnShow:{zoomIn:!0,zoomOut:!0,rotateClockwise:!0,rotateCounterClockwise:!0,next:!0,prev:!0,reset:!0},btnIcons:{zoomIn:{text:"zoom_in"},zoomOut:{text:"zoom_out"},rotateClockwise:{text:"rotate_right"},rotateCounterClockwise:{text:"rotate_left"},fullscreen:{text:"fullscreen"},reset:{text:"restore"}}};var N=class{constructor(i,e){this.name=i,this.fileUrl=e}};var Ve=class{get config(){return this._config}set config(i){this._config=this.mergeConfig(B,i),this.config$.next(this._config)}get currentFile(){return this.filesObjectUrl[this.currentIndex]}set files(i){this._files=i,this.currentIndex=0,this.index$.next(this.currentIndex);for(let e of i)if(this.filesObjectUrl.push($(b({},e),{objectUrl:e.objectUrl||this.createObjectURL(e)})),e.alternativeVersions)for(let n of e.alternativeVersions)this.filesObjectUrl.push($(b(b({},e),n),{objectUrl:this.createObjectURL(n)}))}get files(){return this._files}constructor({config:i,files:e,client:n}){this._config=B,this.config$=new k(B),this.fullscreen$=new k(!1),this.customFile$=new k(null),this.index$=new k(0),this.loading=!0,this.currentIndex=0,this.style={transform:"",msTransform:"",oTransform:"",webkitTransform:"",minHeight:"auto",maxHeight:"auto",height:"auto",minWidth:"auto",maxWidth:"auto",width:"auto"},this.styleHeight="100%",this.hovered=!1,this._files=[],this.filesObjectUrl=[],this.locationBlobMap=new Map,this.scale=1,this.rotation=0,this.translateX=0,this.translateY=0,this.prevX=0,this.prevY=0,i&&(this.config=i),n&&(this.client=n.get.bind(n)),e&&(this.files=e),this.config$.subscribe(o=>{let{minHeight:_,maxHeight:E,minWidth:ye,maxWidth:Fe,height:W,width:Se}=o;this.style.minHeight=this.valueToCss(_),this.style.height=this.valueToCss(W),this.style.width=this.valueToCss(Se),this.style.maxHeight=this.valueToCss(E),this.style.minWidth=this.valueToCss(ye),this.style.maxWidth=this.valueToCss(Fe),this.styleHeight=this.valueToCss(W),this.updateStyle()})}createObjectURL(i){return this.onLoadStart(),L(i.location).pipe(O(e=>this.locationBlobMap.has(e)?L(this.locationBlobMap.get(e)):this.getFile(e).pipe(X(n=>URL.createObjectURL(n)),D(n=>this.locationBlobMap.set(e,n)))),D(()=>this.onLoad()))}getFile(i){let e=this.config.customClient||this.client;if(!e)throw new Error("No http client provided. Please provide a custom client or import HttpClientModule");return e(i,{responseType:"blob"})}previousImage(i){this.canNavigate(i)&&(this.loading=!0,this.currentIndex>0?this.currentIndex--:this.currentIndex=this.files.length-1,this.index$.next(this.currentIndex),this.reset())}nextImage(i){this.canNavigate(i)&&(this.loading=!0,this.currentIndex<this.files.length-1?this.currentIndex++:this.currentIndex=0,this.index$.next(this.currentIndex),this.reset())}zoomIn(){this.scale*=1+(this.config.zoomFactor||0),this.updateStyle()}zoomOut(){this.scale>(this.config.zoomFactor||0)&&(this.scale/=1+(this.config.zoomFactor||0)),this.updateStyle()}scrollZoom(i){return this.config.wheelZoom?(i.deltaY>0?this.zoomOut():this.zoomIn(),!1):!0}rotateClockwise(){this.rotation+=90,this.updateStyle()}rotateCounterClockwise(){this.rotation-=90,this.updateStyle()}onLoad(){this.loading=!1}onLoadStart(){this.loading=!0}imageNotFound(i){this.loading=!1,this.customFile$.next(new N("imageNotFound",i.location))}onDragOver(i){this.translateX+=i.clientX-this.prevX,this.translateY+=i.clientY-this.prevY,this.prevX=i.clientX,this.prevY=i.clientY,this.updateStyle()}onDragStart(i){if(i.target&&i.dataTransfer&&i.dataTransfer.setDragImage){let n=i.target.nextElementSibling;n&&i.dataTransfer.setDragImage(n,0,0)}this.prevX=i.clientX,this.prevY=i.clientY}toggleFullscreen(){let i=this.fullscreen$.getValue();this.fullscreen$.next(!i),i&&this.reset()}reset(){this.scale=1,this.rotation=0,this.translateX=0,this.translateY=0,this.updateStyle()}canNavigate(i){return i==null||this.config.allowKeyboardNavigation&&this.hovered}updateStyle(){this.style.transform=`translate(${this.translateX}px, ${this.translateY}px) rotate(${this.rotation}deg) scale(${this.scale})`,this.style.msTransform=this.style.transform,this.style.webkitTransform=this.style.transform,this.style.oTransform=this.style.transform}valueToCss(i){return i?typeof i=="string"?i:i+"px":"auto"}mergeConfig(i,e){let n=b({},i);return e&&(n=b(b({},i),e),e.btnIcons&&(n.btnIcons=b(b({},i.btnIcons),e.btnIcons))),n}};var tn=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=ee({type:t})}static{this.\u0275inj=G({providers:[fe(pe())],imports:[ce,ge]})}}return t})();var on=[{name:"123645-Crabby - 1",metadata:{originalName:"Crabby - 1"},type:"image/png",location:"img/crabby-1.png",lastModified:new Date},{name:"123645-Crabby - 2",metadata:{originalName:"Crabby - 2"},type:"image/jpeg",location:"img/crabby-2.jpeg",lastModified:new Date},{name:"123645-Crabby - 3",metadata:{originalName:"Crabby - 3"},type:"image/png",location:"img/crabby-3.png",lastModified:new Date},{name:"123645-Crabby - 4",metadata:{originalName:"Crabby - 4"},type:"image/png",location:"img/crabby-4.png",lastModified:new Date},{name:"123645-Crabby - 5",metadata:{originalName:"Crabby - 5"},type:"image/png",location:"img/crabby-5.png"},{name:"123645-Crabby - 6",metadata:{originalName:"Crabby - 6"},type:"image/png",location:"img/crabby-6.png"},{name:"123645-PDF",metadata:{originalName:"PDF"},type:"application/pdf",location:"img/r.pdf"}],rn={btnContainerClass:"other",btnClass:"btn btn-hover-primary px-1",btnSubClass:"material-icons font-size-xl",zoomFactor:.1,wheelZoom:!0,allowFullscreen:!0,allowKeyboardNavigation:!0,height:"640px",btnShow:{zoomIn:!0,zoomOut:!0,rotateClockwise:!0,rotateCounterClockwise:!0,next:!1,prev:!1,reset:!0},btnIcons:{next:{text:"navigate_next"},prev:{text:"navigate_before"}},customBtns:[]};export{ve as a,Lt as b,Ve as c,tn as d,on as e,rn as f};
