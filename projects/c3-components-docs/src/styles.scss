// Tailwind must be first
@use 'tailwindcss';

@use "@angular/material" as mat;
@use "./assets/theme" as theme;
@use "./assets/core" as *;
@use "./assets/design-system" as ds;
@use "sass:map";

// Include design system
@include ds.design-system;

html,
body {
  height: 100%;
  width: 100%;
  margin: 0;
  padding: 0;
  background: var(--surface-ground);
}

// Material Theme
@include mat.all-component-themes(theme.$theme-light);

@media (prefers-color-scheme: light) {
  @include mat.elevation-classes();
  @include mat.app-background();
  @include core(theme.$theme-light);

  $primary: mat.get-theme-color(theme.$theme-light, primary);
  $accent: mat.get-theme-color(theme.$theme-light, accent);
  $warn: mat.get-theme-color(theme.$theme-light, warn);
  $bg-card: mat.get-theme-color(theme.$theme-light, background, card);
  $color-text: mat.get-theme-color(theme.$theme-light, foreground, text);

  body {
    background: var(--surface-ground);
  }
}

@media (prefers-color-scheme: dark) {
  @include mat.all-component-colors(theme.$theme-dark);
  @include mat.elevation-classes();
  @include mat.app-background();
  @include core(theme.$theme-dark);
  $primary: mat.get-theme-color(theme.$theme-dark, primary);
  $accent: mat.get-theme-color(theme.$theme-dark, accent);
  $warn: mat.get-theme-color(theme.$theme-dark, warn);
  $bg-card: mat.get-theme-color(theme.$theme-dark, background, card);
  $color-text: mat.get-theme-color(theme.$theme-dark, foreground, text);

  body {
    background: var(--surface-ground);
  }
}

body,
app-root,
c3-root {
  display: flex;
  flex-direction: column;
  min-height: 100%;
}

// Code highlighting styles
pre.hljs {
  padding: 1rem;
  border-radius: var(--border-radius-md);
  background: var(--code-bg) !important;
  margin: 0;
}

// Example viewer spacing
example-viewer {
  display: block;
  margin-bottom: 2rem;
}

// Smooth scroll
html {
  scroll-behavior: smooth;
}

// Selection color
::selection {
  background: var(--c3-primary);
  color: white;
}

// Focus styles
:focus-visible {
  outline: 2px solid var(--c3-accent);
  outline-offset: 2px;
}

// Material overrides for consistency
.mat-mdc-card {
  background: var(--surface-card) !important;
  border: 1px solid var(--border-color);
}

.mat-mdc-tab-group {
  .mat-mdc-tab-header {
    border-bottom: 1px solid var(--border-color);
  }
}

.mat-mdc-button,
.mat-mdc-raised-button,
.mat-mdc-outlined-button {
  font-family: var(--font-body) !important;
  font-weight: 500 !important;
}

// Material icons alignment
.mat-icon {
  vertical-align: middle;
}

// Scrollbar styling (applied globally)
* {
  scrollbar-width: thin;
  scrollbar-color: var(--border-color-hover) transparent;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--border-color-hover);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-muted);
}
